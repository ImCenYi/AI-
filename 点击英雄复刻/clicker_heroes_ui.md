# ã€Šç‚¹å‡»è‹±é›„ã€‹(Clicker Heroes) UI/UX è®¾è®¡æ–¹æ¡ˆ

## ç›®å½•
1. [æ•´ä½“å¸ƒå±€è®¾è®¡](#1-æ•´ä½“å¸ƒå±€è®¾è®¡)
2. [æ€ªç‰©åŒºåŸŸè®¾è®¡](#2-æ€ªç‰©åŒºåŸŸè®¾è®¡)
3. [è‹±é›„é¢æ¿è®¾è®¡](#3-è‹±é›„é¢æ¿è®¾è®¡)
4. [ç»Ÿè®¡ä¿¡æ¯åŒºåŸŸ](#4-ç»Ÿè®¡ä¿¡æ¯åŒºåŸŸ)
5. [è§†è§‰è®¾è®¡è§„èŒƒ](#5-è§†è§‰è®¾è®¡è§„èŒƒ)
6. [HTML/CSSä»£ç å®ç°](#6-htmlcssä»£ç å®ç°)

---

## 1. æ•´ä½“å¸ƒå±€è®¾è®¡

### 1.1 ç•Œé¢åˆ†åŒºç»“æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     ã€é¡¶éƒ¨ç»Ÿè®¡æ ã€‘                                â”‚
â”‚   ğŸ’° é‡‘å¸: 1.5M    âš”ï¸ DPS: 2.3K    ğŸ¯ åŒºåŸŸ: 5-3                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚                     ã€ä¸­å¤®æ€ªç‰©åŒºåŸŸã€‘                              â”‚
â”‚                                                                 â”‚
â”‚                         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”                            â”‚
â”‚                         â”‚  ğŸ‘¹    â”‚  â† å¤§å‹æ€ªç‰©å›¾åƒ              â”‚
â”‚                         â”‚ æ€ªç‰©   â”‚                            â”‚
â”‚                         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                            â”‚
â”‚                    â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘  HP: 45%                    â”‚
â”‚                                                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ã€å·¦ä¾§è‹±é›„é¢æ¿ã€‘              â”‚  ã€å³ä¾§å‡çº§/è¯¦æƒ…é¢æ¿ã€‘           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚  â”‚ âš”ï¸ éª‘å£« Lv.25      â”‚     â”‚ â”‚ è‹±é›„è¯¦æƒ…/å‡çº§é€‰é¡¹    â”‚        â”‚
â”‚  â”‚ ğŸ¹ å¼“ç®­æ‰‹ Lv.18    â”‚     â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â”‚  â”‚ ğŸ”® æ³•å¸ˆ Lv.12      â”‚     â”‚                                 â”‚
â”‚  â”‚ ...                â”‚     â”‚                                 â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚                                 â”‚
â”‚                              â”‚                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 1.2 å“åº”å¼å¸ƒå±€æ–­ç‚¹

| æ–­ç‚¹ | å®½åº¦ | å¸ƒå±€è°ƒæ•´ |
|------|------|----------|
| ç§»åŠ¨ç«¯ | < 768px | å•åˆ—å¸ƒå±€ï¼Œè‹±é›„é¢æ¿æŠ˜å ä¸ºåº•éƒ¨æŠ½å±‰ |
| å¹³æ¿ | 768px - 1024px | åŒåˆ—å¸ƒå±€ï¼Œæ€ªç‰©åŒºåŸŸç¼©å° |
| æ¡Œé¢ | > 1024px | ä¸‰åˆ—å¸ƒå±€ï¼Œå®Œæ•´æ˜¾ç¤ºæ‰€æœ‰é¢æ¿ |

### 1.3 è§†è§‰å±‚æ¬¡è®¾è®¡

```
Z-Index å±‚çº§:
â”œâ”€â”€ 100: æµ®åŠ¨ä¼¤å®³æ•°å­— (Damage Numbers)
â”œâ”€â”€ 90:  ç‚¹å‡»ç‰¹æ•ˆ (Click Effects)
â”œâ”€â”€ 80:  å¼¹çª—/æ¨¡æ€æ¡† (Modals)
â”œâ”€â”€ 70:  ä¸‹æ‹‰èœå• (Dropdowns)
â”œâ”€â”€ 50:  å¯¼èˆªæ  (Navigation)
â”œâ”€â”€ 40:  è‹±é›„å¡ç‰‡ (Hero Cards)
â”œâ”€â”€ 30:  æ€ªç‰©åŒºåŸŸ (Monster Area)
â”œâ”€â”€ 20:  èƒŒæ™¯è£…é¥° (Background)
â””â”€â”€ 10:  åŸºç¡€èƒŒæ™¯ (Base)
```

---

## 2. æ€ªç‰©åŒºåŸŸè®¾è®¡

### 2.1 æ€ªç‰©æ˜¾ç¤ºåŒºåŸŸè§„æ ¼

```css
.monster-area {
  /* å°ºå¯¸ */
  width: 100%;
  height: 50vh;
  min-height: 400px;
  
  /* å®šä½ */
  position: relative;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  
  /* è§†è§‰ */
  background: radial-gradient(ellipse at center, #2a1f3d 0%, #1a1225 100%);
  border-radius: 16px;
  overflow: hidden;
}

.monster-sprite {
  /* å°ºå¯¸ */
  width: 280px;
  height: 280px;
  
  /* äº¤äº’ */
  cursor: pointer;
  user-select: none;
  
  /* åŠ¨ç”» */
  transition: transform 0.1s ease;
}

.monster-sprite:active {
  transform: scale(0.95);
}

.monster-sprite:hover {
  filter: brightness(1.1);
}
```

### 2.2 HPè¡€æ¡è®¾è®¡

```css
.hp-bar-container {
  /* å°ºå¯¸ */
  width: 60%;
  max-width: 500px;
  height: 24px;
  
  /* è§†è§‰ */
  background: rgba(0, 0, 0, 0.5);
  border-radius: 12px;
  border: 2px solid #4a4a4a;
  overflow: hidden;
  
  /* ä½ç½® */
  margin-top: 20px;
  position: relative;
}

.hp-bar-fill {
  /* å°ºå¯¸ */
  height: 100%;
  width: var(--hp-percentage, 100%);
  
  /* æ¸å˜èƒŒæ™¯ - æ ¹æ®è¡€é‡å˜åŒ–é¢œè‰² */
  background: linear-gradient(90deg, 
    var(--hp-color-high, #4ade80) 0%,
    var(--hp-color-mid, #fbbf24) 50%,
    var(--hp-color-low, #ef4444) 100%
  );
  
  /* åŠ¨ç”» */
  transition: width 0.2s ease-out, background-color 0.3s ease;
  
  /* å…‰æ³½æ•ˆæœ */
  position: relative;
}

.hp-bar-fill::after {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 40%;
  background: linear-gradient(180deg, 
    rgba(255, 255, 255, 0.3) 0%,
    transparent 100%
  );
}

.hp-text {
  /* å±…ä¸­æ˜¾ç¤º */
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  
  /* å­—ä½“ */
  font-family: 'Roboto', sans-serif;
  font-size: 14px;
  font-weight: 700;
  color: #ffffff;
  text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.8);
}
```

### 2.3 ä¼¤å®³æ•°å­—æµ®åŠ¨æ•ˆæœ

```css
.damage-number {
  /* å®šä½ */
  position: absolute;
  pointer-events: none;
  
  /* å­—ä½“ */
  font-family: 'Roboto', sans-serif;
  font-size: 24px;
  font-weight: 900;
  color: #ffffff;
  text-shadow: 
    2px 2px 0 #000,
    -1px -1px 0 #000,
    1px -1px 0 #000,
    -1px 1px 0 #000;
  
  /* åŠ¨ç”» */
  animation: damageFloat 1s ease-out forwards;
}

/* æš´å‡»ä¼¤å®³æ ·å¼ */
.damage-number.critical {
  font-size: 36px;
  color: #fbbf24;
  animation: damageFloatCritical 1.2s ease-out forwards;
}

@keyframes damageFloat {
  0% {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
  20% {
    transform: translateY(-30px) scale(1.2);
  }
  100% {
    opacity: 0;
    transform: translateY(-80px) scale(0.8);
  }
}

@keyframes damageFloatCritical {
  0% {
    opacity: 1;
    transform: translateY(0) scale(1.5);
  }
  10% {
    transform: translateY(-20px) scale(2);
  }
  30% {
    transform: translateY(-40px) scale(1.8);
  }
  100% {
    opacity: 0;
    transform: translateY(-100px) scale(1);
  }
}
```

### 2.4 ç‚¹å‡»åé¦ˆæ•ˆæœ

```css
.click-effect {
  /* å®šä½ */
  position: absolute;
  pointer-events: none;
  
  /* å°ºå¯¸ */
  width: 60px;
  height: 60px;
  
  /* è§†è§‰ */
  border-radius: 50%;
  background: radial-gradient(circle, 
    rgba(255, 255, 255, 0.8) 0%,
    rgba(255, 200, 100, 0.4) 40%,
    transparent 70%
  );
  
  /* åŠ¨ç”» */
  animation: clickRipple 0.4s ease-out forwards;
}

@keyframes clickRipple {
  0% {
    transform: scale(0);
    opacity: 1;
  }
  100% {
    transform: scale(3);
    opacity: 0;
  }
}

/* æ€ªç‰©å—å‡»éœ‡åŠ¨ */
.monster-hit {
  animation: monsterShake 0.15s ease-in-out;
}

@keyframes monsterShake {
  0%, 100% { transform: translateX(0); }
  25% { transform: translateX(-8px) rotate(-2deg); }
  75% { transform: translateX(8px) rotate(2deg); }
}
```

---

## 3. è‹±é›„é¢æ¿è®¾è®¡

### 3.1 è‹±é›„åˆ—è¡¨å¸ƒå±€

```css
.hero-panel {
  /* å°ºå¯¸ */
  width: 100%;
  max-width: 400px;
  height: calc(100vh - 200px);
  
  /* å¸ƒå±€ */
  display: flex;
  flex-direction: column;
  gap: 8px;
  
  /* è§†è§‰ */
  background: rgba(30, 25, 45, 0.8);
  border-radius: 12px;
  padding: 16px;
  
  /* æ»šåŠ¨ */
  overflow-y: auto;
  scrollbar-width: thin;
  scrollbar-color: #4a4a6a #1a1a2e;
}

.hero-panel::-webkit-scrollbar {
  width: 8px;
}

.hero-panel::-webkit-scrollbar-track {
  background: #1a1a2e;
  border-radius: 4px;
}

.hero-panel::-webkit-scrollbar-thumb {
  background: #4a4a6a;
  border-radius: 4px;
}
```

### 3.2 è‹±é›„å¡ç‰‡è®¾è®¡

```css
.hero-card {
  /* å°ºå¯¸ */
  width: 100%;
  padding: 12px 16px;
  
  /* å¸ƒå±€ */
  display: grid;
  grid-template-columns: 48px 1fr auto;
  gap: 12px;
  align-items: center;
  
  /* è§†è§‰ */
  background: linear-gradient(135deg, #2d2640 0%, #252038 100%);
  border-radius: 10px;
  border: 2px solid transparent;
  
  /* äº¤äº’ */
  cursor: pointer;
  transition: all 0.2s ease;
}

.hero-card:hover {
  border-color: #6366f1;
  transform: translateX(4px);
  box-shadow: 0 4px 12px rgba(99, 102, 241, 0.3);
}

.hero-card.locked {
  opacity: 0.5;
  cursor: not-allowed;
}

.hero-card.locked:hover {
  border-color: transparent;
  transform: none;
  box-shadow: none;
}

/* è‹±é›„å¤´åƒ */
.hero-avatar {
  width: 48px;
  height: 48px;
  border-radius: 8px;
  background: linear-gradient(135deg, #4f46e5 0%, #7c3aed 100%);
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 24px;
}

/* è‹±é›„ä¿¡æ¯ */
.hero-info {
  display: flex;
  flex-direction: column;
  gap: 4px;
}

.hero-name {
  font-family: 'Roboto', sans-serif;
  font-size: 16px;
  font-weight: 700;
  color: #ffffff;
}

.hero-level {
  font-family: 'Roboto', sans-serif;
  font-size: 12px;
  color: #a0a0b0;
}

.hero-dps {
  font-family: 'Roboto', sans-serif;
  font-size: 13px;
  color: #4ade80;
  font-weight: 600;
}

/* å‡çº§æŒ‰é’® */
.hero-upgrade-btn {
  /* å°ºå¯¸ */
  padding: 8px 16px;
  min-width: 80px;
  
  /* è§†è§‰ */
  background: linear-gradient(135deg, #22c55e 0%, #16a34a 100%);
  border: none;
  border-radius: 8px;
  
  /* å­—ä½“ */
  font-family: 'Roboto', sans-serif;
  font-size: 14px;
  font-weight: 700;
  color: #ffffff;
  
  /* äº¤äº’ */
  cursor: pointer;
  transition: all 0.15s ease;
}

.hero-upgrade-btn:hover {
  transform: scale(1.05);
  box-shadow: 0 4px 12px rgba(34, 197, 94, 0.4);
}

.hero-upgrade-btn:active {
  transform: scale(0.95);
}

.hero-upgrade-btn:disabled {
  background: linear-gradient(135deg, #4a4a5a 0%, #3a3a4a 100%);
  cursor: not-allowed;
  transform: none;
  box-shadow: none;
}

.hero-upgrade-btn:disabled:hover {
  transform: none;
  box-shadow: none;
}

/* å‡çº§æˆæœ¬æ˜¾ç¤º */
.upgrade-cost {
  font-size: 11px;
  color: #fbbf24;
  margin-top: 2px;
  text-align: center;
}
```

### 3.3 æ‰¹é‡å‡çº§æŒ‰é’®

```css
.batch-upgrade-bar {
  display: flex;
  gap: 8px;
  padding: 12px;
  background: rgba(40, 35, 55, 0.9);
  border-radius: 10px;
  margin-bottom: 12px;
}

.batch-btn {
  flex: 1;
  padding: 10px;
  background: linear-gradient(135deg, #6366f1 0%, #4f46e5 100%);
  border: none;
  border-radius: 8px;
  color: #ffffff;
  font-family: 'Roboto', sans-serif;
  font-size: 13px;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.15s ease;
}

.batch-btn:hover {
  background: linear-gradient(135deg, #818cf8 0%, #6366f1 100%);
  transform: translateY(-2px);
}

.batch-btn.active {
  background: linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%);
  color: #1a1a2e;
}
```

---

## 4. ç»Ÿè®¡ä¿¡æ¯åŒºåŸŸ

### 4.1 é¡¶éƒ¨ç»Ÿè®¡æ 

```css
.stats-bar {
  /* å°ºå¯¸ */
  width: 100%;
  height: 64px;
  padding: 0 24px;
  
  /* å¸ƒå±€ */
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 24px;
  
  /* è§†è§‰ */
  background: linear-gradient(180deg, #1a1225 0%, #251a35 100%);
  border-bottom: 2px solid #3d3050;
}

.stat-item {
  /* å¸ƒå±€ */
  display: flex;
  align-items: center;
  gap: 10px;
  
  /* è§†è§‰ */
  padding: 8px 16px;
  background: rgba(60, 50, 80, 0.5);
  border-radius: 10px;
}

.stat-icon {
  font-size: 24px;
}

.stat-content {
  display: flex;
  flex-direction: column;
}

.stat-label {
  font-family: 'Roboto', sans-serif;
  font-size: 11px;
  color: #8888a0;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.stat-value {
  font-family: 'Roboto', sans-serif;
  font-size: 18px;
  font-weight: 700;
  color: #ffffff;
}

/* é‡‘å¸ç‰¹æ®Šæ ·å¼ */
.stat-item.gold .stat-value {
  color: #fbbf24;
  text-shadow: 0 0 10px rgba(251, 191, 36, 0.3);
}

/* DPSç‰¹æ®Šæ ·å¼ */
.stat-item.dps .stat-value {
  color: #4ade80;
}

/* åŒºåŸŸç‰¹æ®Šæ ·å¼ */
.stat-item.zone .stat-value {
  color: #a78bfa;
}
```

### 4.2 é‡‘å¸å¢é•¿åŠ¨ç”»

```css
.gold-increase {
  animation: goldPulse 0.3s ease-out;
}

@keyframes goldPulse {
  0% {
    transform: scale(1);
  }
  50% {
    transform: scale(1.15);
    color: #fcd34d;
  }
  100% {
    transform: scale(1);
  }
}

/* é‡‘å¸è·å¾—æµ®åŠ¨æ–‡å­— */
.gold-popup {
  position: absolute;
  font-family: 'Roboto', sans-serif;
  font-size: 16px;
  font-weight: 700;
  color: #fbbf24;
  text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.8);
  pointer-events: none;
  animation: goldFloat 1.5s ease-out forwards;
}

@keyframes goldFloat {
  0% {
    opacity: 1;
    transform: translateY(0);
  }
  100% {
    opacity: 0;
    transform: translateY(-60px);
  }
}
```

---

## 5. è§†è§‰è®¾è®¡è§„èŒƒ

### 5.1 é¢œè‰²æ–¹æ¡ˆ

```css
:root {
  /* ä¸»è‰²è°ƒ - æ·±ç´«ä¸»é¢˜ */
  --color-primary: #6366f1;
  --color-primary-dark: #4f46e5;
  --color-primary-light: #818cf8;
  
  /* è¾…åŠ©è‰² */
  --color-secondary: #a78bfa;
  --color-secondary-dark: #8b5cf6;
  
  /* å¼ºè°ƒè‰² */
  --color-accent-gold: #fbbf24;
  --color-accent-green: #4ade80;
  --color-accent-red: #ef4444;
  --color-accent-blue: #60a5fa;
  
  /* èƒŒæ™¯è‰² */
  --color-bg-primary: #1a1225;
  --color-bg-secondary: #251a35;
  --color-bg-tertiary: #2d2640;
  --color-bg-card: #252038;
  
  /* æ–‡å­—è‰² */
  --color-text-primary: #ffffff;
  --color-text-secondary: #a0a0b0;
  --color-text-muted: #6b6b7b;
  
  /* è¾¹æ¡†è‰² */
  --color-border: #3d3050;
  --color-border-light: #4a4a6a;
  
  /* çŠ¶æ€è‰² */
  --color-success: #22c55e;
  --color-warning: #f59e0b;
  --color-error: #ef4444;
  --color-info: #3b82f6;
}
```

### 5.2 å­—ä½“é€‰æ‹©

```css
/* å¯¼å…¥å­—ä½“ */
@import url('https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700;900&display=swap');

/* å­—ä½“å˜é‡ */
:root {
  --font-primary: 'Roboto', -apple-system, BlinkMacSystemFont, sans-serif;
  --font-mono: 'Courier New', monospace;
}

/* å­—ä½“è§„æ ¼ */
.font-display {
  font-family: var(--font-primary);
  font-weight: 900;
  font-size: 32px;
}

.font-title {
  font-family: var(--font-primary);
  font-weight: 700;
  font-size: 24px;
}

.font-heading {
  font-family: var(--font-primary);
  font-weight: 700;
  font-size: 18px;
}

.font-body {
  font-family: var(--font-primary);
  font-weight: 400;
  font-size: 14px;
}

.font-caption {
  font-family: var(--font-primary);
  font-weight: 500;
  font-size: 12px;
}

.font-number {
  font-family: var(--font-primary);
  font-weight: 700;
  font-variant-numeric: tabular-nums;
}
```

### 5.3 æŒ‰é’®æ ·å¼ç³»ç»Ÿ

```css
/* åŸºç¡€æŒ‰é’® */
.btn {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  padding: 12px 24px;
  font-family: var(--font-primary);
  font-size: 14px;
  font-weight: 700;
  border: none;
  border-radius: 10px;
  cursor: pointer;
  transition: all 0.15s ease;
}

.btn:hover {
  transform: translateY(-2px);
}

.btn:active {
  transform: translateY(0) scale(0.98);
}

/* ä¸»è¦æŒ‰é’® */
.btn-primary {
  background: linear-gradient(135deg, var(--color-primary) 0%, var(--color-primary-dark) 100%);
  color: #ffffff;
  box-shadow: 0 4px 14px rgba(99, 102, 241, 0.4);
}

.btn-primary:hover {
  box-shadow: 0 6px 20px rgba(99, 102, 241, 0.5);
}

/* æˆåŠŸæŒ‰é’® */
.btn-success {
  background: linear-gradient(135deg, #22c55e 0%, #16a34a 100%);
  color: #ffffff;
  box-shadow: 0 4px 14px rgba(34, 197, 94, 0.4);
}

/* å±é™©æŒ‰é’® */
.btn-danger {
  background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);
  color: #ffffff;
  box-shadow: 0 4px 14px rgba(239, 68, 68, 0.4);
}

/* å¹½çµæŒ‰é’® */
.btn-ghost {
  background: transparent;
  border: 2px solid var(--color-border-light);
  color: var(--color-text-secondary);
}

.btn-ghost:hover {
  border-color: var(--color-primary);
  color: var(--color-primary);
}

/* ç¦ç”¨çŠ¶æ€ */
.btn:disabled {
  background: linear-gradient(135deg, #4a4a5a 0%, #3a3a4a 100%);
  color: #6b6b7b;
  cursor: not-allowed;
  transform: none;
  box-shadow: none;
}
```

### 5.4 åŠ¨ç”»æ•ˆæœè§„æ ¼

```css
/* å…¥åœºåŠ¨ç”» */
@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

@keyframes slideInUp {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes slideInLeft {
  from {
    opacity: 0;
    transform: translateX(-20px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

/* è„‰å†²åŠ¨ç”» */
@keyframes pulse {
  0%, 100% {
    transform: scale(1);
  }
  50% {
    transform: scale(1.05);
  }
}

/* å‘å…‰åŠ¨ç”» */
@keyframes glow {
  0%, 100% {
    box-shadow: 0 0 5px var(--color-primary);
  }
  50% {
    box-shadow: 0 0 20px var(--color-primary), 0 0 40px var(--color-primary);
  }
}

/* æ—‹è½¬åŠ¨ç”» */
@keyframes spin {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}

/* å¼¹è·³åŠ¨ç”» */
@keyframes bounce {
  0%, 100% {
    transform: translateY(0);
  }
  50% {
    transform: translateY(-10px);
  }
}

/* é—ªçƒåŠ¨ç”» */
@keyframes flash {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.5; }
}

/* éœ‡åŠ¨åŠ¨ç”» */
@keyframes shake {
  0%, 100% { transform: translateX(0); }
  10%, 30%, 50%, 70%, 90% { transform: translateX(-5px); }
  20%, 40%, 60%, 80% { transform: translateX(5px); }
}

/* åº”ç”¨ç±» */
.animate-fadeIn { animation: fadeIn 0.3s ease-out; }
.animate-slideInUp { animation: slideInUp 0.4s ease-out; }
.animate-pulse { animation: pulse 2s infinite; }
.animate-glow { animation: glow 2s infinite; }
.animate-bounce { animation: bounce 1s infinite; }
```

---

## 6. HTML/CSSä»£ç å®ç°

### 6.1 å®Œæ•´HTMLç»“æ„

```html
<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ç‚¹å‡»è‹±é›„ - Clicker Heroes</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <!-- æ¸¸æˆä¸»å®¹å™¨ -->
  <div class="game-container">
    
    <!-- é¡¶éƒ¨ç»Ÿè®¡æ  -->
    <header class="stats-bar">
      <div class="stat-item gold">
        <span class="stat-icon">ğŸ’°</span>
        <div class="stat-content">
          <span class="stat-label">é‡‘å¸</span>
          <span class="stat-value" id="gold-display">1.5M</span>
        </div>
      </div>
      
      <div class="stat-item dps">
        <span class="stat-icon">âš”ï¸</span>
        <div class="stat-content">
          <span class="stat-label">æ¯ç§’ä¼¤å®³</span>
          <span class="stat-value" id="dps-display">2.3K</span>
        </div>
      </div>
      
      <div class="stat-item click">
        <span class="stat-icon">ğŸ‘†</span>
        <div class="stat-content">
          <span class="stat-label">ç‚¹å‡»ä¼¤å®³</span>
          <span class="stat-value" id="click-damage-display">156</span>
        </div>
      </div>
      
      <div class="stat-item zone">
        <span class="stat-icon">ğŸ¯</span>
        <div class="stat-content">
          <span class="stat-label">å½“å‰åŒºåŸŸ</span>
          <span class="stat-value" id="zone-display">5-3</span>
        </div>
      </div>
    </header>
    
    <!-- ä¸»æ¸¸æˆåŒºåŸŸ -->
    <main class="game-main">
      
      <!-- å·¦ä¾§è‹±é›„é¢æ¿ -->
      <aside class="hero-panel-container">
        <!-- æ‰¹é‡å‡çº§æ  -->
        <div class="batch-upgrade-bar">
          <button class="batch-btn active" data-amount="1">x1</button>
          <button class="batch-btn" data-amount="10">x10</button>
          <button class="batch-btn" data-amount="100">x100</button>
          <button class="batch-btn" data-amount="max">MAX</button>
        </div>
        
        <!-- è‹±é›„åˆ—è¡¨ -->
        <div class="hero-panel" id="hero-panel">
          <!-- è‹±é›„å¡ç‰‡ç¤ºä¾‹ -->
          <div class="hero-card" data-hero-id="1">
            <div class="hero-avatar">âš”ï¸</div>
            <div class="hero-info">
              <span class="hero-name">è§ä¹ éª‘å£«</span>
              <span class="hero-level">ç­‰çº§ 25</span>
              <span class="hero-dps">DPS: 156</span>
            </div>
            <div class="hero-actions">
              <button class="hero-upgrade-btn">
                å‡çº§
                <span class="upgrade-cost">ğŸ’° 1.2K</span>
              </button>
            </div>
          </div>
          
          <div class="hero-card" data-hero-id="2">
            <div class="hero-avatar">ğŸ¹</div>
            <div class="hero-info">
              <span class="hero-name">ç²¾çµå¼“ç®­æ‰‹</span>
              <span class="hero-level">ç­‰çº§ 18</span>
              <span class="hero-dps">DPS: 423</span>
            </div>
            <div class="hero-actions">
              <button class="hero-upgrade-btn">
                å‡çº§
                <span class="upgrade-cost">ğŸ’° 5.6K</span>
              </button>
            </div>
          </div>
          
          <div class="hero-card locked" data-hero-id="3">
            <div class="hero-avatar">ğŸ”®</div>
            <div class="hero-info">
              <span class="hero-name">ç¥ç§˜æ³•å¸ˆ</span>
              <span class="hero-level">æœªè§£é”</span>
              <span class="hero-dps">è§£é”éœ€è¦: ğŸ’° 50K</span>
            </div>
            <div class="hero-actions">
              <button class="hero-upgrade-btn" disabled>
                è§£é”
              </button>
            </div>
          </div>
        </div>
      </aside>
      
      <!-- ä¸­å¤®æ€ªç‰©åŒºåŸŸ -->
      <section class="monster-area" id="monster-area">
        <!-- æ€ªç‰©åç§° -->
        <div class="monster-name">å²è±å§†ç‹</div>
        
        <!-- æ€ªç‰©ç²¾çµ -->
        <div class="monster-sprite-container">
          <div class="monster-sprite" id="monster-sprite">
            <!-- æ€ªç‰©å›¾åƒ/åŠ¨ç”» -->
            <svg viewBox="0 0 200 200" class="monster-svg">
              <!-- ç®€åŒ–çš„æ€ªç‰©SVG -->
              <circle cx="100" cy="100" r="80" fill="#7c3aed" opacity="0.8"/>
              <circle cx="70" cy="80" r="15" fill="#fff"/>
              <circle cx="130" cy="80" r="15" fill="#fff"/>
              <circle cx="70" cy="80" r="8" fill="#000"/>
              <circle cx="130" cy="80" r="8" fill="#000"/>
              <ellipse cx="100" cy="130" rx="30" ry="20" fill="#4c1d95"/>
            </svg>
          </div>
        </div>
        
        <!-- HPè¡€æ¡ -->
        <div class="hp-bar-container">
          <div class="hp-bar-fill" id="hp-bar" style="--hp-percentage: 65%;"></div>
          <span class="hp-text" id="hp-text">6,500 / 10,000</span>
        </div>
        
        <!-- ä¼¤å®³æ•°å­—å®¹å™¨ -->
        <div class="damage-numbers-container" id="damage-container"></div>
      </section>
      
      <!-- å³ä¾§è¯¦æƒ…é¢æ¿ -->
      <aside class="detail-panel">
        <div class="detail-card">
          <h3>è‹±é›„è¯¦æƒ…</h3>
          <div class="detail-content">
            <p>é€‰æ‹©ä¸€ä¸ªè‹±é›„æŸ¥çœ‹è¯¦ç»†ä¿¡æ¯</p>
          </div>
        </div>
        
        <div class="detail-card">
          <h3>æˆå°±è¿›åº¦</h3>
          <div class="achievement-list">
            <div class="achievement-item">
              <span class="achievement-icon">ğŸ†</span>
              <span class="achievement-name">é¦–æ¬¡å‡»æ€</span>
              <span class="achievement-progress">1/1</span>
            </div>
            <div class="achievement-item">
              <span class="achievement-icon">ğŸ’</span>
              <span class="achievement-name">ç™¾ä¸‡å¯Œç¿</span>
              <span class="achievement-progress">1.5M/1M</span>
            </div>
          </div>
        </div>
      </aside>
      
    </main>
  </div>
  
  <!-- æ¸¸æˆè„šæœ¬ -->
  <script src="game.js"></script>
</body>
</html>
```

### 6.2 å®Œæ•´CSSæ ·å¼

```css
/* ===== åŸºç¡€é‡ç½®å’Œå˜é‡ ===== */
*, *::before, *::after {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

@import url('https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700;900&display=swap');

:root {
  /* é¢œè‰²å˜é‡ */
  --color-primary: #6366f1;
  --color-primary-dark: #4f46e5;
  --color-primary-light: #818cf8;
  --color-secondary: #a78bfa;
  --color-accent-gold: #fbbf24;
  --color-accent-green: #4ade80;
  --color-accent-red: #ef4444;
  --color-bg-primary: #1a1225;
  --color-bg-secondary: #251a35;
  --color-bg-card: #252038;
  --color-text-primary: #ffffff;
  --color-text-secondary: #a0a0b0;
  --color-border: #3d3050;
  
  /* å­—ä½“ */
  --font-primary: 'Roboto', -apple-system, BlinkMacSystemFont, sans-serif;
  
  /* é—´è· */
  --spacing-xs: 4px;
  --spacing-sm: 8px;
  --spacing-md: 16px;
  --spacing-lg: 24px;
  --spacing-xl: 32px;
  
  /* åœ†è§’ */
  --radius-sm: 6px;
  --radius-md: 10px;
  --radius-lg: 16px;
}

/* ===== åŸºç¡€æ ·å¼ ===== */
body {
  font-family: var(--font-primary);
  background: var(--color-bg-primary);
  color: var(--color-text-primary);
  min-height: 100vh;
  overflow-x: hidden;
}

/* ===== æ¸¸æˆå®¹å™¨ ===== */
.game-container {
  display: flex;
  flex-direction: column;
  min-height: 100vh;
}

/* ===== ç»Ÿè®¡æ  ===== */
.stats-bar {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: var(--spacing-lg);
  padding: var(--spacing-md) var(--spacing-lg);
  background: linear-gradient(180deg, var(--color-bg-primary) 0%, var(--color-bg-secondary) 100%);
  border-bottom: 2px solid var(--color-border);
  flex-wrap: wrap;
}

.stat-item {
  display: flex;
  align-items: center;
  gap: var(--spacing-sm);
  padding: var(--spacing-sm) var(--spacing-md);
  background: rgba(60, 50, 80, 0.5);
  border-radius: var(--radius-md);
  min-width: 140px;
}

.stat-icon {
  font-size: 24px;
}

.stat-content {
  display: flex;
  flex-direction: column;
}

.stat-label {
  font-size: 11px;
  color: var(--color-text-secondary);
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.stat-value {
  font-size: 18px;
  font-weight: 700;
  color: var(--color-text-primary);
  font-variant-numeric: tabular-nums;
}

.stat-item.gold .stat-value {
  color: var(--color-accent-gold);
}

.stat-item.dps .stat-value {
  color: var(--color-accent-green);
}

.stat-item.zone .stat-value {
  color: var(--color-secondary);
}

/* ===== ä¸»æ¸¸æˆåŒºåŸŸ ===== */
.game-main {
  display: grid;
  grid-template-columns: 320px 1fr 280px;
  gap: var(--spacing-lg);
  padding: var(--spacing-lg);
  flex: 1;
  max-width: 1600px;
  margin: 0 auto;
  width: 100%;
}

/* ===== è‹±é›„é¢æ¿ ===== */
.hero-panel-container {
  display: flex;
  flex-direction: column;
  gap: var(--spacing-md);
}

.batch-upgrade-bar {
  display: flex;
  gap: var(--spacing-sm);
  padding: var(--spacing-md);
  background: rgba(40, 35, 55, 0.9);
  border-radius: var(--radius-md);
}

.batch-btn {
  flex: 1;
  padding: 10px;
  background: linear-gradient(135deg, var(--color-primary) 0%, var(--color-primary-dark) 100%);
  border: none;
  border-radius: var(--radius-sm);
  color: var(--color-text-primary);
  font-family: var(--font-primary);
  font-size: 13px;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.15s ease;
}

.batch-btn:hover {
  background: linear-gradient(135deg, var(--color-primary-light) 0%, var(--color-primary) 100%);
  transform: translateY(-2px);
}

.batch-btn.active {
  background: linear-gradient(135deg, var(--color-accent-gold) 0%, #f59e0b 100%);
  color: var(--color-bg-primary);
}

.hero-panel {
  display: flex;
  flex-direction: column;
  gap: var(--spacing-sm);
  max-height: calc(100vh - 200px);
  overflow-y: auto;
  padding-right: var(--spacing-sm);
}

.hero-card {
  display: grid;
  grid-template-columns: 48px 1fr auto;
  gap: var(--spacing-md);
  align-items: center;
  padding: var(--spacing-md);
  background: linear-gradient(135deg, #2d2640 0%, var(--color-bg-card) 100%);
  border-radius: var(--radius-md);
  border: 2px solid transparent;
  cursor: pointer;
  transition: all 0.2s ease;
}

.hero-card:hover {
  border-color: var(--color-primary);
  transform: translateX(4px);
  box-shadow: 0 4px 12px rgba(99, 102, 241, 0.3);
}

.hero-card.locked {
  opacity: 0.5;
  cursor: not-allowed;
}

.hero-card.locked:hover {
  border-color: transparent;
  transform: none;
  box-shadow: none;
}

.hero-avatar {
  width: 48px;
  height: 48px;
  border-radius: var(--radius-sm);
  background: linear-gradient(135deg, var(--color-primary-dark) 0%, #7c3aed 100%);
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 24px;
}

.hero-info {
  display: flex;
  flex-direction: column;
  gap: 2px;
}

.hero-name {
  font-size: 15px;
  font-weight: 700;
  color: var(--color-text-primary);
}

.hero-level {
  font-size: 12px;
  color: var(--color-text-secondary);
}

.hero-dps {
  font-size: 13px;
  color: var(--color-accent-green);
  font-weight: 600;
}

.hero-upgrade-btn {
  display: flex;
  flex-direction: column;
  align-items: center;
  padding: 8px 14px;
  background: linear-gradient(135deg, #22c55e 0%, #16a34a 100%);
  border: none;
  border-radius: var(--radius-sm);
  font-family: var(--font-primary);
  font-size: 13px;
  font-weight: 700;
  color: var(--color-text-primary);
  cursor: pointer;
  transition: all 0.15s ease;
}

.hero-upgrade-btn:hover {
  transform: scale(1.05);
  box-shadow: 0 4px 12px rgba(34, 197, 94, 0.4);
}

.hero-upgrade-btn:disabled {
  background: linear-gradient(135deg, #4a4a5a 0%, #3a3a4a 100%);
  cursor: not-allowed;
  transform: none;
  box-shadow: none;
}

.upgrade-cost {
  font-size: 10px;
  color: var(--color-accent-gold);
  margin-top: 2px;
}

/* ===== æ€ªç‰©åŒºåŸŸ ===== */
.monster-area {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: var(--spacing-lg);
  padding: var(--spacing-xl);
  background: radial-gradient(ellipse at center, #2a1f3d 0%, var(--color-bg-primary) 100%);
  border-radius: var(--radius-lg);
  position: relative;
  min-height: 500px;
}

.monster-name {
  font-size: 24px;
  font-weight: 700;
  color: var(--color-text-primary);
  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.5);
}

.monster-sprite-container {
  position: relative;
}

.monster-sprite {
  width: 240px;
  height: 240px;
  cursor: pointer;
  user-select: none;
  transition: transform 0.1s ease;
}

.monster-sprite:active {
  transform: scale(0.95);
}

.monster-sprite:hover {
  filter: brightness(1.1);
}

.monster-svg {
  width: 100%;
  height: 100%;
  filter: drop-shadow(0 10px 20px rgba(0, 0, 0, 0.5));
}

.hp-bar-container {
  width: 70%;
  max-width: 450px;
  height: 28px;
  background: rgba(0, 0, 0, 0.5);
  border-radius: 14px;
  border: 2px solid #4a4a4a;
  overflow: hidden;
  position: relative;
}

.hp-bar-fill {
  height: 100%;
  width: var(--hp-percentage, 100%);
  background: linear-gradient(90deg, 
    var(--color-accent-green) 0%,
    #fbbf24 50%,
    var(--color-accent-red) 100%
  );
  transition: width 0.2s ease-out;
  position: relative;
}

.hp-bar-fill::after {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 40%;
  background: linear-gradient(180deg, 
    rgba(255, 255, 255, 0.3) 0%,
    transparent 100%
  );
}

.hp-text {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  font-size: 13px;
  font-weight: 700;
  color: var(--color-text-primary);
  text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.8);
  white-space: nowrap;
}

.damage-numbers-container {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  pointer-events: none;
  overflow: hidden;
}

/* ===== è¯¦æƒ…é¢æ¿ ===== */
.detail-panel {
  display: flex;
  flex-direction: column;
  gap: var(--spacing-md);
}

.detail-card {
  background: linear-gradient(135deg, #2d2640 0%, var(--color-bg-card) 100%);
  border-radius: var(--radius-md);
  padding: var(--spacing-md);
  border: 1px solid var(--color-border);
}

.detail-card h3 {
  font-size: 16px;
  font-weight: 700;
  color: var(--color-text-primary);
  margin-bottom: var(--spacing-md);
  padding-bottom: var(--spacing-sm);
  border-bottom: 1px solid var(--color-border);
}

.achievement-list {
  display: flex;
  flex-direction: column;
  gap: var(--spacing-sm);
}

.achievement-item {
  display: flex;
  align-items: center;
  gap: var(--spacing-sm);
  padding: var(--spacing-sm);
  background: rgba(60, 50, 80, 0.3);
  border-radius: var(--radius-sm);
}

.achievement-icon {
  font-size: 20px;
}

.achievement-name {
  flex: 1;
  font-size: 13px;
  color: var(--color-text-secondary);
}

.achievement-progress {
  font-size: 12px;
  color: var(--color-accent-gold);
  font-weight: 600;
}

/* ===== åŠ¨ç”» ===== */
.damage-number {
  position: absolute;
  font-size: 22px;
  font-weight: 900;
  color: var(--color-text-primary);
  text-shadow: 
    2px 2px 0 #000,
    -1px -1px 0 #000,
    1px -1px 0 #000,
    -1px 1px 0 #000;
  pointer-events: none;
  animation: damageFloat 1s ease-out forwards;
}

.damage-number.critical {
  font-size: 32px;
  color: var(--color-accent-gold);
  animation: damageFloatCritical 1.2s ease-out forwards;
}

@keyframes damageFloat {
  0% {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
  20% {
    transform: translateY(-30px) scale(1.2);
  }
  100% {
    opacity: 0;
    transform: translateY(-80px) scale(0.8);
  }
}

@keyframes damageFloatCritical {
  0% {
    opacity: 1;
    transform: translateY(0) scale(1.5);
  }
  10% {
    transform: translateY(-20px) scale(2);
  }
  30% {
    transform: translateY(-40px) scale(1.8);
  }
  100% {
    opacity: 0;
    transform: translateY(-100px) scale(1);
  }
}

.click-effect {
  position: absolute;
  width: 60px;
  height: 60px;
  border-radius: 50%;
  background: radial-gradient(circle, 
    rgba(255, 255, 255, 0.8) 0%,
    rgba(255, 200, 100, 0.4) 40%,
    transparent 70%
  );
  pointer-events: none;
  animation: clickRipple 0.4s ease-out forwards;
}

@keyframes clickRipple {
  0% {
    transform: scale(0);
    opacity: 1;
  }
  100% {
    transform: scale(3);
    opacity: 0;
  }
}

.monster-hit {
  animation: monsterShake 0.15s ease-in-out;
}

@keyframes monsterShake {
  0%, 100% { transform: translateX(0); }
  25% { transform: translateX(-8px) rotate(-2deg); }
  75% { transform: translateX(8px) rotate(2deg); }
}

/* ===== å“åº”å¼å¸ƒå±€ ===== */
@media (max-width: 1200px) {
  .game-main {
    grid-template-columns: 280px 1fr;
  }
  
  .detail-panel {
    display: none;
  }
}

@media (max-width: 768px) {
  .game-main {
    grid-template-columns: 1fr;
    padding: var(--spacing-md);
  }
  
  .hero-panel-container {
    position: fixed;
    bottom: 0;
    left: 0;
    right: 0;
    background: var(--color-bg-primary);
    border-top: 2px solid var(--color-border);
    padding: var(--spacing-md);
    z-index: 100;
    max-height: 40vh;
  }
  
  .hero-panel {
    max-height: 30vh;
  }
  
  .monster-area {
    min-height: 350px;
    margin-bottom: 40vh;
  }
  
  .monster-sprite {
    width: 180px;
    height: 180px;
  }
  
  .stats-bar {
    gap: var(--spacing-sm);
    padding: var(--spacing-sm);
  }
  
  .stat-item {
    min-width: auto;
    padding: var(--spacing-xs) var(--spacing-sm);
  }
  
  .stat-value {
    font-size: 14px;
  }
}

/* ===== æ»šåŠ¨æ¡æ ·å¼ ===== */
::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

::-webkit-scrollbar-track {
  background: var(--color-bg-primary);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb {
  background: #4a4a6a;
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: #5a5a7a;
}
```

### 6.3 JavaScriptäº¤äº’ç¤ºä¾‹

```javascript
// æ¸¸æˆçŠ¶æ€
const gameState = {
  gold: 1500000,
  totalDPS: 2300,
  clickDamage: 156,
  currentZone: { world: 5, level: 3 },
  monsterHP: 6500,
  monsterMaxHP: 10000
};

// DOMå…ƒç´ 
const monsterSprite = document.getElementById('monster-sprite');
const monsterArea = document.getElementById('monster-area');
const damageContainer = document.getElementById('damage-container');
const hpBar = document.getElementById('hp-bar');
const hpText = document.getElementById('hp-text');

// ç‚¹å‡»æ€ªç‰©
monsterSprite.addEventListener('click', (e) => {
  const rect = monsterSprite.getBoundingClientRect();
  const x = e.clientX - rect.left;
  const y = e.clientY - rect.top;
  
  // é€ æˆä¼¤å®³
  dealDamage(gameState.clickDamage, x, y, false);
  
  // æ€ªç‰©å—å‡»åŠ¨ç”»
  monsterSprite.classList.add('monster-hit');
  setTimeout(() => monsterSprite.classList.remove('monster-hit'), 150);
  
  // ç‚¹å‡»æ³¢çº¹æ•ˆæœ
  createClickEffect(e.clientX, e.clientY);
});

// é€ æˆä¼¤å®³
function dealDamage(damage, x, y, isCritical) {
  // æ˜¾ç¤ºä¼¤å®³æ•°å­—
  showDamageNumber(damage, x, y, isCritical);
  
  // æ›´æ–°æ€ªç‰©è¡€é‡
  gameState.monsterHP = Math.max(0, gameState.monsterHP - damage);
  updateHPBar();
  
  // æ£€æŸ¥æ€ªç‰©æ­»äº¡
  if (gameState.monsterHP <= 0) {
    onMonsterDefeated();
  }
}

// æ˜¾ç¤ºä¼¤å®³æ•°å­—
function showDamageNumber(damage, x, y, isCritical) {
  const damageEl = document.createElement('div');
  damageEl.className = `damage-number ${isCritical ? 'critical' : ''}`;
  damageEl.textContent = formatNumber(damage);
  
  // éšæœºåç§»
  const offsetX = (Math.random() - 0.5) * 60;
  const offsetY = (Math.random() - 0.5) * 40;
  
  damageEl.style.left = `${x + offsetX}px`;
  damageEl.style.top = `${y + offsetY}px`;
  
  damageContainer.appendChild(damageEl);
  
  // åŠ¨ç”»ç»“æŸåç§»é™¤
  setTimeout(() => damageEl.remove(), 1200);
}

// åˆ›å»ºç‚¹å‡»æ•ˆæœ
function createClickEffect(x, y) {
  const effect = document.createElement('div');
  effect.className = 'click-effect';
  
  const rect = monsterArea.getBoundingClientRect();
  effect.style.left = `${x - rect.left - 30}px`;
  effect.style.top = `${y - rect.top - 30}px`;
  
  monsterArea.appendChild(effect);
  
  setTimeout(() => effect.remove(), 400);
}

// æ›´æ–°è¡€æ¡
function updateHPBar() {
  const percentage = (gameState.monsterHP / gameState.monsterMaxHP) * 100;
  hpBar.style.setProperty('--hp-percentage', `${percentage}%`);
  hpText.textContent = `${formatNumber(gameState.monsterHP)} / ${formatNumber(gameState.monsterMaxHP)}`;
}

// æ ¼å¼åŒ–æ•°å­—
function formatNumber(num) {
  if (num >= 1000000) {
    return (num / 1000000).toFixed(1) + 'M';
  } else if (num >= 1000) {
    return (num / 1000).toFixed(1) + 'K';
  }
  return num.toString();
}

// æ€ªç‰©è¢«å‡»è´¥
function onMonsterDefeated() {
  // å¥–åŠ±é‡‘å¸
  const reward = Math.floor(gameState.monsterMaxHP * 0.1);
  gameState.gold += reward;
  
  // åˆ·æ–°æ€ªç‰©
  gameState.monsterMaxHP = Math.floor(gameState.monsterMaxHP * 1.15);
  gameState.monsterHP = gameState.monsterMaxHP;
  updateHPBar();
  
  // æ›´æ–°UI
  document.getElementById('gold-display').textContent = formatNumber(gameState.gold);
}

// DPSè‡ªåŠ¨ä¼¤å®³
setInterval(() => {
  if (gameState.monsterHP > 0 && gameState.totalDPS > 0) {
    const dpsDamage = gameState.totalDPS / 10; // æ¯100msè®¡ç®—ä¸€æ¬¡
    const rect = monsterSprite.getBoundingClientRect();
    const centerX = rect.width / 2;
    const centerY = rect.height / 2;
    dealDamage(dpsDamage, centerX, centerY, false);
  }
}, 100);

// æ‰¹é‡å‡çº§æŒ‰é’®
document.querySelectorAll('.batch-btn').forEach(btn => {
  btn.addEventListener('click', () => {
    document.querySelectorAll('.batch-btn').forEach(b => b.classList.remove('active'));
    btn.classList.add('active');
  });
});

// è‹±é›„å‡çº§
document.querySelectorAll('.hero-upgrade-btn').forEach(btn => {
  btn.addEventListener('click', (e) => {
    e.stopPropagation();
    const card = btn.closest('.hero-card');
    if (!card.classList.contains('locked')) {
      // æ‰§è¡Œå‡çº§é€»è¾‘
      console.log('å‡çº§è‹±é›„:', card.dataset.heroId);
    }
  });
});
```

---

## 7. è®¾è®¡æ€»ç»“

### 7.1 æ ¸å¿ƒè®¾è®¡åŸåˆ™

1. **æ¸…æ™°çš„ä¿¡æ¯å±‚æ¬¡**: é‡‘å¸ã€DPSç­‰å…³é”®æ•°æ®å§‹ç»ˆå¯è§
2. **å³æ—¶åé¦ˆ**: æ¯æ¬¡ç‚¹å‡»éƒ½æœ‰è§†è§‰å’Œæ•°å€¼åé¦ˆ
3. **æ¸è¿›å¼å¤æ‚åº¦**: æ–°ç©å®¶å®¹æ˜“ä¸Šæ‰‹ï¼Œè€ç©å®¶æœ‰æ·±åº¦å†…å®¹
4. **è§†è§‰å¸å¼•åŠ›**: æ·±ç´«ä¸»é¢˜é…åˆé‡‘è‰²å¼ºè°ƒï¼Œè¥é€ å¥‡å¹»æ°›å›´

### 7.2 äº¤äº’è®¾è®¡äº®ç‚¹

- æ€ªç‰©å—å‡»éœ‡åŠ¨ + ç‚¹å‡»æ³¢çº¹æ•ˆæœ
- æµ®åŠ¨ä¼¤å®³æ•°å­—ï¼ˆæ™®é€š/æš´å‡»åŒºåˆ†ï¼‰
- æ‰¹é‡å‡çº§å¿«é€Ÿæ“ä½œ
- è‹±é›„å¡ç‰‡æ‚¬åœæ•ˆæœ
- é‡‘å¸å¢é•¿è„‰å†²åŠ¨ç”»

### 7.3 å“åº”å¼ç­–ç•¥

- æ¡Œé¢ç«¯ï¼šä¸‰åˆ—å¸ƒå±€ï¼Œå®Œæ•´åŠŸèƒ½
- å¹³æ¿ç«¯ï¼šéšè—è¯¦æƒ…é¢æ¿ï¼Œä¿æŒæ ¸å¿ƒç©æ³•
- ç§»åŠ¨ç«¯ï¼šè‹±é›„é¢æ¿å˜ä¸ºåº•éƒ¨æŠ½å±‰ï¼Œä¼˜åŒ–è§¦æ‘¸æ“ä½œ

---

*æ–‡æ¡£ç‰ˆæœ¬: 1.0*  
*æœ€åæ›´æ–°: 2024å¹´*
