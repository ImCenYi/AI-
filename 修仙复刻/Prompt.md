# 指数修仙：丹药无双 - 游戏设计文档Prompt

## 项目定位

**游戏类型**: 纯前端放置类修仙游戏 (Incremental Idle + Cultivation RPG)
**核心体验**: 指数级数值爆炸 + 多维度并行养成 + 修仙题材包装
**目标玩家**: 喜欢大数字爽感、长期成长、收集养成的放置游戏玩家
**差异化**: 纯单机无压力、指数而非线性增长、系统间深度耦合

---

## 核心设计哲学

### 1. 指数级增长设计

**为什么用指数而非线性？**
```
线性增长: 100 → 110 → 121 → 133 (10%增长，很快无感)
指数增长: 1e2 → 1e22 → 1e48 → 1e79 (指数爆炸，持续爽感)
```

**设计要点:**
- 玩家能直观感受到"e100"到"e1000"到"e10000"的跨越
- 每次大境界突破应该带来指数的跃迁，而非线性提升
- 用科学计数法的简洁掩盖数值的庞大，降低认知负担

### 2. 多系统耦合设计

**设计原则: 所有系统必须互相增益，形成乘法效应**

```
荒野刷怪 → 装备 → 攻击力 ↘
通天塔 → 法则 → 攻击力/生命 ↘
                 最终属性 = 基础 × 系统A × 系统B × 系统C...
副本 → 寻宝令 → 古宝 → 全属性 ↗
```

**为什么这样设计？**
- 单系统提升有边际效应，多系统叠加产生指数快感
- 给玩家永远有事可做的感觉
- 不同玩家可以优先发展不同系统，形成"流派"

### 3. 时间货币化设计

**核心公式: 玩家强度 = 在线时长 + 离线收益 × 养成效率**

| 系统 | 时间投入 | 离线收益 | 设计意图 |
|------|----------|----------|----------|
| 荒野刷怪 | 高 | 无 | 主动操作反馈 |
| 通天塔 | 中 | 无 | 挑战验证 |
| 灵园种植 | 低 | 高 | 养成期待感 |
| 深渊BOSS | 定时 | 无 | 每日目标 |

---

## 数值设计框架

### 核心公式体系

#### 1. 敌人强度曲线
```javascript
// N难度敌人强度 = BASE × (2.155 ^ N)
// 为什么2.155？因为 2.155^10 ≈ 2000，每10层约2000倍增长
// 这样设计让N100的敌人强度达到天文数字

敌人攻击 = 5 × (2.155 ^ N) × 随机(0.95-1.05)
敌人生命 = 50 × (2.155 ^ N)
```

**设计意图**:
- N1-N10: 新手期，快速增长，建立爽感
- N10-N50: 成长期，开始需要多系统支持
- N50-N100: 挑战期，每个N都是质的飞跃
- N100+: 王者期，纯粹的数字收集

#### 2. 装备数值设计
```javascript
// 装备数值 = 基础值 × 品质倍率 × (1.2 ^ 等级)
// 品质: 绿(×1) < 蓝(×1.5) < 紫(×3) < 金(×6) < 红(×12)

// 掉落等级 = N难度 + 遗宝加成 + 古宝加成
```

**设计意图**:
- 每+1等级提升20%，让玩家感受到成长
- 品质跨度2倍，制造稀缺感
- 红色装备作为终极目标

#### 3. 境界突破设计
```javascript
// 突破倍率 = 1.1 ^ (跨度)
// 累计加成 = 之前所有突破倍率的乘积

// 示例: 从练气到筑基，跨度20层
// 倍率 = 1.1^20 ≈ 6.7倍
// 如果之前累计1000倍，现在变成6700倍
```

**设计意图**:
- 大境界突破必须是"质的飞跃"
- 跨度越大，突破越难，但回报越大
- 鼓励玩家积累后一次性突破

#### 4. 数值压缩设计（副本/深渊）
```javascript
// 问题: 玩家攻击力1e1000，敌人HP只有1e500，完全碾压
// 解决: 使用对数压缩

有效攻击力 = (log10(攻击力))^2
有效生命值 = (log10(生命值))^2 × 5

// 1e1000的攻击力变成 (1000)^2 = 1,000,000
// 这样设计让数值差距不至于过大，保留策略空间
```

**设计意图**:
- 防止指数数值在后期完全碾压，失去挑战
- 让技巧和策略在高难度仍有意义
- 为后期副本提供持续挑战内容

---

## 系统设计详解

### 1. 法则修炼系统 (Law Cultivation)

**设计定位**: 中后期核心成长线，与通天塔深度绑定

**设计细节**:
```
层数: 无限
每层: 攻击/生命 二选一提升
前30层: 固定倍率 (1.1x/层)
31层+: 指数衰减 (每层只有上次的95%)

预计数值:
- 30层累计: ~17倍
- 60层累计: ~50倍
- 100层累计: ~100倍
```

**玩家体验设计**:
- 每10层一个里程碑，获得额外奖励
- 攻击vs生命的选择形成策略分支
- 层数无上限，提供无限追求

**与其他系统的关系**:
- 法则真意来自: 通天塔(主要) + 灵园经验转化(次要)
- 法则倍率影响: 所有战斗模式

---

### 2. 深渊遗宝系统 (Abyss Relic)

**设计定位**: 每日目标系统 + 长期收集系统

**设计细节**:
```
5个BOSS，5个难度层级
每个BOSS有独立的22件遗宝池
每日掉落上限: 21次
每次掉落: 3个遗宝
UR保底机制: 长期积累

遗宝属性类型:
- 全属性倍率 (指数级提升)
- 爬塔掉率 (法则获取加速)
- 刷丹倍率 (主线成长加速)
- 装备/秘宝等级 (基础数值提升)
```

**玩家体验设计**:
- 每日重置的21次限制 → 制造稀缺感
- 5个BOSS解锁条件不同 → 阶梯式解锁
- 遗宝满级后溢出兑换 → 避免完全重复感
- 5属性类型 → 玩家需要选择发展顺序

**数值设计意图**:
- N品质: 前期过渡，快速提升
- UR品质: 终极目标，每件都是质变
- 满级遗宝提供数百倍加成，但获取周期以月计

---

### 3. 大千宝录系统 (Ancient Treasure)

**设计定位**: Gacha收集 + 羁绊组合

**设计细节**:
```
古宝属性类型 (9种):
1. 全属性倍率    - 最稀缺，每级+15%(UR)
2. 攻击力加成    - 专精攻击
3. 生命值加成    - 专精生命
4. 爬塔真意掉落  - 法则获取加速
5. 刷丹效率      - 主线成长加速
6. 装备等级      - 线性+3/级(UR)
7. 秘宝等级      - 线性+3/级(UR)
8. 全属性指数    - 极稀有，指数+0.5%/级
9. 生灵精华      - 炼体系统加速

9种羁绊组合:
- 3件套触发1级羁绊
- 5-6件套触发2级羁绊
- 9件套触发3级羁绊 (仅限部分)

抽卡概率: UR 3% / SSR 10% / SR 25% / R 62%
UR保底: 35抽
```

**玩家体验设计**:
- 羁绊系统鼓励"套装收集"而非"单件堆叠"
- 不同羁绊形成不同流派:
  - 战狂之道 → 极限攻击
  - 不朽之身 → 极限生命
  - 万法皆通 → 均衡发展
  - 超脱者 → 指数玩家终极追求

**数值设计意图**:
- R级古宝: 易获得，快速形成基础羁绊
- UR级古宝: 稀有，单件属性爆炸
- 羁绊加成独立于古宝属性 → 双重收集动力

---

### 4. 周天星窍系统 (ZhouTian Star Acupoint)

**设计定位**: 后期指数提升系统，与星空巨兽联动

**设计细节**:
```
5个星域 × 9个星窍 = 45个养成点
每个星窍有5种品质: 凡(×1) → 灵(×2) → 玄(×4) → 地(×8) → 天(×16)

星域加成:
- 青龙(东): 攻击×1.2/窍 (9窍天品 = ×100)
- 朱雀(南): 生命×1.2/窍
- 白虎(西): 装备等级+2/窍 (线性加算)
- 玄武(北): 精华获取×1.15/窍
- 麒麟(中): 全属性×1.1/窍 (9窍天品 = ×23)

大圆满奖励: 5星域全满天品 = 全属性指数+1%
```

**玩家体验设计**:
- 洗炼机制: 消耗星髓随机提升品质 → Gacha快感
- 5星域形成选择: 先攻还是先血？先装备还是先精华？
- 大圆满设定: 终极追求，全满后指数再上一层楼

**数值设计意图**:
- 单个星窍提升小，但45个累积巨大
- 品质倍率×16让天品与凡品差距巨大
- 指数加成作为"毕业奖励"，象征终极成就

---

### 5. 百草灵园系统 (Spirit Garden)

**设计定位**: 离线收益 + 第二经济系统

**设计细节**:
```
16块土地，70种灵植(7基础×10转)

灵植数值设计:
- 每转100倍增长
- 成长时间固定，不随转数增加
- 成本和收入同比例增长，利润率不变

经济循环:
灵石投入 → 种植灵植 → 收获 → 灵石+经验
经验 → 10%转化为法则真意
生灵精华 → 炼体锻身系统

傀儡系统: 自动种植/收获 (降低操作负担)
炼丹系统: 灵植合成高倍丹药
```

**玩家体验设计**:
- 种植时间是真实时间 → 离线也有收益期待
- 解锁新土地 → 扩张感
- 解锁高转灵植 → 品质提升感
- 生灵精华独立经济 → 炼体系统不干扰主线

**数值设计意图**:
- 灵园产出与主线N难度解耦 → 提供替代成长路径
- 100倍/转的增长让高转灵植成为后期主要收入
- 10%经验转化率让灵园成为法则的次要来源

---

### 6. 炼体锻身系统 (Life Essence Refinement)

**设计定位**: 独立于装备的成长线，生灵精华消耗

**设计细节**:
```
轮次制: 每轮10次淬炼
前9次: 肉身乘算 ×1.1/次
第10次: 肉身蜕变，指数+0.1%/轮

设计亮点:
- 乘算部分提供即时反馈
- 指数部分提供长期追求
- 每轮最后1次有仪式感
```

**与其他系统的耦合**:
- 生灵精华来自: 灵园收获(主要)
- 古宝有"生灵精华掉落"属性 → 加速炼体
- 炼体加成应用于: 最终属性计算

**数值设计意图**:
- 10轮 = 约2.6倍乘算 + 1%指数加成
- 100轮 = 约1.4万倍乘算 + 10%指数加成
- 指数加成与周天大圆满叠加 → 后期指数爆炸

---

## 玩家体验曲线设计

### 阶段划分

| 阶段 | 时长 | N难度 | 核心体验 | 主要系统 |
|------|------|-------|----------|----------|
| 新手期 | 0-1h | 1-10 | 快速升级，装备替换 | 荒野刷怪、基础装备 |
| 成长期 | 1-5h | 10-50 | 开始选择发展路线 | 法则、通天塔、秘宝 |
| 挑战期 | 1-3d | 50-100 | 多系统并行养成 | 灵园、深渊、古宝 |
| 王者期 | 1-2w | 100-500 | 指数级追求 | 星窍、炼体、大圆满 |
| 终极期 | 长期 | 500+ | 纯数字收集 | 所有系统毕业 |

### 心流设计

```
在线时:
  ↓ 荒野刷怪 (即时反馈: 装备掉落)
  ↓ 遇到瓶颈 (挑战)
  ↓ 切换系统提升 (突破)
  ↓ 返回荒野，能力提升感知明显 (成就感)

离线时:
  ↓ 灵园收获期待
  ↓ 深渊BOSS刷新倒计时
  ↓ 下次登录的成长感知
```

### 防疲劳设计

| 机制 | 目的 |
|------|------|
| 每帧5%回血 | 减少死亡挫败感 |
| 灵园离线收益 | 不玩也有成长 |
| 深渊每日上限 | 防止爆肝透支 |
| 多系统并行 | A系统卡住了玩B系统 |

---

## 长期留存设计

### 每日循环
```
登录 → 领取离线收益(灵园) → 深渊BOSS(21次) →
星空巨兽(星髓) → 通天塔推进 → 荒野挑战新N难度
```

### 每周循环
```
深渊遗宝兑换(每周刷新) → 古宝抽卡积累 →
星窍洗炼优化 → 境界突破尝试
```

### 里程碑设计
```
短期(小时): 装备更换、小境界突破
中期(天): 解锁新BOSS、新系统
长期(周): 古宝UR收集、星窍大圆满
终极(月): 全系统毕业、指数极限追求
```

---

## 扩展设计方向

### 1. 新增系统接入原则

**必须满足以下条件之一:**
- 提供新的指数级加成来源
- 提供新的资源/经济循环
- 提供新的策略选择分支
- 解决现有系统的痛点

**接入公式:**
```javascript
// 在getTotalStats()中加入新系统加成
// 保持: 最终属性 = 基础 × 系统A × 系统B × ... × 新系统

// 新系统应该有:
// - 独立的资源获取方式
// - 与其他系统的数值耦合
// - 明确的成长阶梯
```

### 2. 可扩展方向建议

#### 方向A: 社交/竞争系统
```
设计: 排行榜、赛季、跨服竞争
注意: 纯前端需要伪服务器或导出数据验证
```

#### 方向B: 剧情/任务系统
```
设计: 主线剧情、支线任务、成就系统
价值: 给数值增长提供叙事包装
```

#### 方向C: 新战斗模式
```
设计: 无尽模式、限时挑战、特殊规则副本
价值: 验证玩家build，提供新挑战
```

#### 方向D: 外观/收集系统
```
设计: 皮肤、称号、特效
价值: 满足收集欲，提供非数值追求
```

### 3. 数值膨胀控制

**当前设计的防膨胀机制:**
- 对数压缩(副本/深渊)
- 指数加成有上限(周天大圆满+炼体蜕变 ≈ 15-20%)
- 多系统乘算而非加算(避免线性叠加)

**未来扩展建议:**
- 新系统优先提供"乘算倍率"而非"指数加成"
- 指数加成控制在1%以内，作为终极奖励
- 引入"软上限"机制，超过阈值后收益递减

---

## 平衡性检查清单

当设计新系统时，检查:

- [ ] 是否提供了有意义的数值提升？(非蚊子腿)
- [ ] 提升是否是指数级而非线性？(保持爽感)
- [ ] 是否与其他系统有耦合？(避免孤立)
- [ ] 是否有明确的获取成本？(防止白嫖)
- [ ] 时间投入与回报是否成正比？(公平感)
- [ ] 是否存在最优解？(保留策略空间)
- [ ] 后期是否会完全碾压前期内容？(数值压缩)

---

## 参考数值

### 各系统满级预期加成

| 系统 | 满级加成(估算) | 达成周期 |
|------|----------------|----------|
| 法则(100层) | ×100 | 2周 |
| 深渊遗宝(全UR满级) | ×1000 | 3个月 |
| 大千宝录(全UR+羁绊) | ×500 | 2个月 |
| 周天星窍(大圆满) | ×100 + 指数+1% | 1个月 |
| 炼体锻身(100轮) | ×14000 + 指数+10% | 1个月 |
| 境界(100境) | ×10000+ | 1个月 |

**合计**: 乘算部分约 1e12 倍 + 指数部分约 11%

---

## 技术实现参考

### 关键代码模式

```javascript
// 1. BigNum数值计算
const finalAtk = baseAtk
    .mul(lawMultiplier)
    .mul(relicMultiplier)
    .mul(treasureMultiplier)
    .mul(realmMultiplier)
    .expBonus(totalExpBonus)

// 2. 随机品质选择
function rollQuality(pool) {
    const total = pool.reduce((s, i) => s + i.weight, 0)
    let roll = Math.random() * total
    for (const item of pool) {
        roll -= item.weight
        if (roll <= 0) return item
    }
}

// 3. 时间相关的离线收益计算
function calcOfflineGain(lastTime, rate) {
    const elapsed = Date.now() - lastTime
    const maxOffline = 24 * 3600 * 1000  // 24小时上限
    const effective = Math.min(elapsed, maxOffline)
    return rate.mul(effective / 1000)
}
```

---

**文档版本**: v2.0 - 设计导向
**适用场景**: 询问其他AI关于游戏设计、数值平衡、系统设计方向的问题
**建议提问**: "基于以上设计，我想设计一个XXX系统，请分析..."
