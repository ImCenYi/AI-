<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æŒ‡æ•°ä¿®ä»™ï¼šä¸¹è¯æ— åŒ (å‰¯æœ¬ç§˜å®ç‰ˆ)</title>
    <link rel="stylesheet" href="css/style.css">
<style>
/* å¤§åƒå®å½•UIç¾åŒ–æ ·å¼ */

/* é‡Œç¨‹ç¢‘åŠ¨ç”»æ•ˆæœ */
@keyframes milestone-glow {
    0%, 100% { box-shadow: 0 0 10px rgba(251, 191, 36, 0.3); }
    50% { box-shadow: 0 0 20px rgba(251, 191, 36, 0.6); }
}

#ancient-treasure-milestone {
    animation: milestone-glow 2s ease-in-out infinite;
}

/* ç•ŒåŸŸè¿›åº¦æ¡åŠ¨ç”» */
#ancient-treasure-realms div div div:last-child div {
    transition: width 0.5s ease-out;
}

/* å¤å®å¡ç‰‡å…‰æ•ˆ */
.treasure-card {
    transition: all 0.3s ease;
}

.treasure-card:hover {
    transform: translateY(-2px);
}

/* å“è´¨å…‰æ™•æ•ˆæœ */
.treasure-card.ur {
    animation: ur-glow 2s ease-in-out infinite;
}

@keyframes ur-glow {
    0%, 100% { box-shadow: 0 0 5px rgba(220, 38, 38, 0.5); }
    50% { box-shadow: 0 0 15px rgba(220, 38, 38, 0.8); }
}

.treasure-card.ssr {
    animation: ssr-glow 2s ease-in-out infinite;
}

@keyframes ssr-glow {
    0%, 100% { box-shadow: 0 0 5px rgba(234, 88, 12, 0.5); }
    50% { box-shadow: 0 0 15px rgba(234, 88, 12, 0.8); }
}

/* å‡çº§æˆåŠŸç‰¹æ•ˆ */
@keyframes upgrade-success {
    0% { transform: scale(1); opacity: 1; }
    50% { transform: scale(1.2); opacity: 0.8; }
    100% { transform: scale(1); opacity: 1; }
}

.upgrade-flash {
    animation: upgrade-success 0.5s ease-out;
}

/* å¯»å®ç»“æœé—ªå…‰æ•ˆæœ */
@keyframes draw-shine {
    0% { background-position: -200% 0; }
    100% { background-position: 200% 0; }
}

.draw-result-shine {
    background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
    background-size: 200% 100%;
    animation: draw-shine 1s ease-out;
}

/* å®Œæˆç•ŒåŸŸåº†ç¥åŠ¨ç”» */
@keyframes realm-complete {
    0% { transform: scale(0.8); opacity: 0; }
    50% { transform: scale(1.1); opacity: 1; }
    100% { transform: scale(1); opacity: 1; }
}

.realm-complete-anim {
    animation: realm-complete 0.6s ease-out;
}

/* è¿›åº¦æ¡å¡«å……åŠ¨ç”» */
@keyframes progress-fill {
    from { width: 0; }
    to { width: var(--progress-width); }
}

.progress-animated {
    animation: progress-fill 1s ease-out forwards;
}

/* çµçŸ³æ‰è½è·³å­—åŠ¨ç”» */
@keyframes floatUp {
    0% {
        opacity: 1;
        transform: translateY(0) scale(1);
    }
    50% {
        opacity: 1;
        transform: translateY(-20px) scale(1.1);
    }
    100% {
        opacity: 0;
        transform: translateY(-40px) scale(0.9);
    }
}

.stone-drop-text {
    position: absolute;
    pointer-events: none;
    z-index: 100;
    white-space: nowrap;
}

/* æŒ‰é’®æ‚¬åœå…‰æ•ˆ */
.sys-btn:hover {
    box-shadow: 0 0 15px rgba(59, 130, 246, 0.5);
}

/* ========== åŠŸæ³•ç³»ç»Ÿæ ·å¼ ========== */
.technique-card {
    background: linear-gradient(135deg, rgba(16,185,129,0.1), rgba(16,185,129,0.05));
    border: 1px solid rgba(16,185,129,0.3);
    border-radius: 8px;
    padding: 12px;
    margin-bottom: 12px;
    transition: all 0.3s ease;
}

.technique-card:hover {
    border-color: rgba(16,185,129,0.6);
    box-shadow: 0 0 10px rgba(16,185,129,0.2);
}

.technique-card.locked {
    opacity: 0.6;
    background: rgba(100,100,100,0.1);
    border-color: rgba(100,100,100,0.3);
}

.technique-card.maxed {
    background: linear-gradient(135deg, rgba(251,191,36,0.15), rgba(251,191,36,0.05));
    border-color: rgba(251,191,36,0.5);
}

.technique-header {
    display: flex;
    align-items: center;
    gap: 8px;
    margin-bottom: 8px;
}

.technique-icon {
    font-size: 1.5rem;
}

.technique-name {
    font-weight: bold;
    color: #fff;
    flex: 1;
}

.technique-layer {
    color: #10b981;
    font-size: 0.85rem;
}

.technique-progress-bar {
    height: 6px;
    background: rgba(255,255,255,0.1);
    border-radius: 3px;
    overflow: hidden;
    margin-bottom: 8px;
}

.technique-progress-fill {
    height: 100%;
    border-radius: 3px;
    transition: width 0.3s ease;
}

.technique-desc {
    font-size: 0.75rem;
    color: #888;
    margin-bottom: 8px;
}

.technique-current {
    font-size: 0.8rem;
    color: #10b981;
    margin-bottom: 8px;
}

.technique-next {
    display: flex;
    justify-content: space-between;
    align-items: center;
    font-size: 0.8rem;
    color: #aaa;
}

.technique-upgrade-btn {
    padding: 4px 12px;
    background: linear-gradient(to right, #10b981, #059669);
    border: none;
    border-radius: 4px;
    color: white;
    cursor: pointer;
    font-size: 0.8rem;
    transition: all 0.2s;
}

.technique-upgrade-btn:hover:not(:disabled) {
    box-shadow: 0 0 10px rgba(16,185,129,0.5);
    transform: translateY(-1px);
}

.technique-upgrade-btn:disabled {
    background: #4b5563;
    cursor: not-allowed;
    opacity: 0.6;
}

.technique-maxed {
    text-align: center;
    color: #fbbf24;
    font-weight: bold;
    padding: 8px;
}

.technique-status {
    text-align: center;
    color: #888;
    padding: 8px;
    font-size: 0.8rem;
}

.resonance-item {
    padding: 8px;
    margin: 4px 0;
    background: rgba(139,92,246,0.15);
    border-radius: 4px;
    font-size: 0.8rem;
}

.resonance-item.active {
    border-left: 3px solid #c084fc;
}

.resonance-name {
    color: #c084fc;
    font-weight: bold;
    display: block;
    margin-bottom: 2px;
}

.resonance-desc {
    color: #aaa;
    font-size: 0.75rem;
}

.bonus-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 8px;
}

.bonus-item {
    padding: 4px 8px;
    background: rgba(16,185,129,0.1);
    border-radius: 4px;
    font-size: 0.8rem;
    color: #10b981;
}
</style>
</head>
<body>

<header>
    <h1>æŒ‡æ•°ä¿®ä»™ï¼šä¸¹è¯æ— åŒ (å‰¯æœ¬ç§˜å®ç‰ˆ)</h1>
    <div class="header-controls">
        <div class="difficulty-badge" id="level-display">è’é‡å±‚æ•°: 0 (å‡¡äºº)</div>
        <button class="cheat-btn" onclick="game.toggleCheatModal()">ğŸ”¥ é‡‘æ‰‹æŒ‡</button>
    </div>
</header>

<div id="game-container">
    <!-- Left Panel: Stats & Equipment -->
    <div class="panel">
        <div class="panel-title">ä¿®å£«å±æ€§</div>
        <div class="stat-row"><span>ç”Ÿå‘½å€¼:</span> <span id="stat-hp" class="val">300 / 300</span></div>
        <div class="stat-row"><span>æ”»å‡»åŠ›:</span> <span id="stat-atk" class="val">50</span></div>
        <div class="stat-row"><span>æš´å‡»ç‡:</span> <span id="stat-crit" class="val">0%</span></div>
        
        <div class="panel-title" style="margin-top:10px; display:flex; justify-content:space-between; align-items:center;">
            <span>åŠ æˆç»Ÿè®¡</span>
            <button class="sys-btn" style="padding:2px 8px; font-size:0.7rem;" onclick="game.openStatsDetailModal()">ğŸ“Š è¯¦æƒ…</button>
        </div>
        <div class="stat-row"><span>å¢ƒç•ŒåŠ æˆ:</span> <span id="mul-realm" class="val">x1.00</span></div>
        <div class="stat-row"><span>æ³•åˆ™å€ç‡:</span> <span id="mul-atk" class="val">100%</span> (æ”»/è¡€)</div>
        <div class="stat-row"><span>é€šå¤©å¡”æ‰ç‡:</span> <span id="mul-drop" class="val">0%</span></div>
        <div class="stat-row"><span>ç§˜å®åŠ æˆ:</span> <span id="bonus-treasure" class="val" style="font-size:0.8rem">æ— </span></div>

        <div class="panel-title" style="margin-top:10px;">è£…å¤‡ (è‡ªåŠ¨æ›¿æ¢)</div>
        <div class="equip-grid" id="equip-grid">
            <!-- Generated by JS -->
        </div>
    </div>

    <!-- Center Panel: Combat -->
    <div class="panel" style="position: relative;">
        <div class="panel-title" id="stage-name">è’é‡ - ç¬¬ 0 å±‚</div>
        
        <div class="combat-scene">
            <div id="damage-overlay" style="position:absolute; width:100%; height:100%; pointer-events:none;"></div>
            <div id="skill-overlay" style="position:absolute; width:100%; height:100%; pointer-events:none;"></div>
            
            <div id="resurrect-overlay" class="resurrect-overlay">
                <div id="resurrect-text">å·²æ­»äº¡<br><span style="font-size:1rem; color:#fff;">2ç§’åå¤æ´»...</span></div>
            </div>

            <!-- Enemy Grid Container -->
            <div class="enemy-container" id="enemy-container">
                <!-- Enemies injected here -->
            </div>
            
            <div style="height: 30px; text-align: center; color: #555; font-size: 0.8rem; display: flex; align-items: center;">
                VS
            </div>

            <!-- Player -->
            <div class="entity player-entity" id="player-entity">
                <span>âš”ï¸</span>
                <div class="hp-bar-container">
                    <div class="hp-bar-fill" id="player-hp-bar" style="width: 100%;"></div>
                </div>
            </div>
        </div>

        <div class="controls">
            <!-- Modified Button -->
            <button class="btn-boss" id="btn-challenge" 
                onclick="game.manualSummonBoss()" 
                oncontextmenu="event.preventDefault(); game.toggleAutoBoss()">
                ğŸ’€ å¬å”¤è’é‡BOSS (å³é”®è‡ªåŠ¨)
            </button>
        </div>
        
        <div id="battle-log"></div>
    </div>

    <!-- Right Panel: Game Systems -->
    <div class="panel">
        <div class="panel-title">æ¸¸æˆç³»ç»Ÿ</div>
        
        <div class="tabs">
            <button class="tab-btn active" onclick="game.switchTab('law')">â˜¯ï¸ æ³•åˆ™æ‚Ÿé“</button>
            <button class="tab-btn" onclick="game.switchTab('dungeon')">ğŸ”¥ å‰¯æœ¬æ¢é™©</button>
            <button class="tab-btn" onclick="game.switchTab('realm')">âœ¨ å¢ƒç•Œçªç ´</button>
<button class="tab-btn" onclick="game.switchTab('garden')">ğŸŒ¿ ç™¾è‰çµå›­</button>
            <button class="tab-btn" onclick="game.switchTab('ancient-treasure')">ğŸ“œ å¤§åƒå®å½•</button>
            <button class="tab-btn" onclick="game.switchTab('zhou-tian')">â­ å‘¨å¤©æ˜Ÿçª</button>
            <button class="tab-btn" onclick="game.openStarBeastModal()">ğŸŒŸ æ˜Ÿç©ºå·¨å…½</button>
            <button class="tab-btn" onclick="game.switchTab('abyss')">ğŸŒ‘ æ·±æ¸Šé—å®</button>
            <button class="tab-btn" onclick="game.switchTab('technique')">ğŸ“š åŠŸæ³•ä¿®ç‚¼</button>
        </div>

        <!-- Law Cultivation Tab (æ³•åˆ™æ‚Ÿé“ - åˆå¹¶æ³•åˆ™ä¿®ç‚¼+é€šå¤©å¡”) -->
        <div id="tab-law" class="tab-content active">
            <!-- ä¸Šéƒ¨ï¼šæ³•åˆ™ä¿®ç‚¼ -->
            <div class="system-section">
                <div class="res-display" style="border:none; color:#00bcd4;">ğŸ“¿ æ³•åˆ™ä¿®ç‚¼</div>
                <div class="res-display">æ³•åˆ™çœŸæ„: <span id="res-law">0</span></div>
                <div class="sub-stat">å½“å‰è½®æ¬¡: <span id="cult-round" class="val">0</span></div>
                <div class="sub-stat">ä¿®ç‚¼è¿›åº¦: <span id="cult-step" class="val">0 / 10</span></div>
                <div class="sub-stat">ä¸‹æ¬¡åŠ æˆ: <span id="cult-next" class="highlight">æ”»å‡» +10%</span></div>
                <div class="sub-stat">å•æ¬¡æ¶ˆè€—: <span id="cult-cost">2</span></div>
                <div style="display:flex; gap:5px; margin-top:10px;">
                    <button class="sys-btn btn-cultivate" onclick="game.cultivate()">âœ¨ æ„Ÿæ‚Ÿæ³•åˆ™</button>
                    <button class="sys-btn btn-cultivate-all" onclick="game.cultivateAll()">âš¡ ä¸€é”®æ„Ÿæ‚Ÿ</button>
                </div>
            </div>
            
            <!-- ä¸‹éƒ¨ï¼šé€šå¤©å¡” -->
            <div class="system-section" style="margin-top:10px;">
                <div class="res-display" style="border:none; color:#3f51b5;">ğŸ—¼ é€šå¤©å¡”</div>
                <div class="sub-stat">å½“å‰å±‚æ•°: <span id="tower-lv" class="val">0</span></div>
                <div class="sub-stat">æ€ªç‰©å¼ºåº¦: <span class="highlight">10^å±‚æ•°</span> (æéš¾)</div>
                <div class="sub-stat">æ‰è½çœŸæ„: <span id="tower-drop">1</span></div>
                <button class="sys-btn btn-tower" id="btn-tower-toggle" onclick="game.toggleTowerMode()">ğŸ—¼ æŒ‘æˆ˜é€šå¤©å¡”</button>
                <div style="font-size:0.7rem; color:#888; margin-top:5px;">
                    * æŒ‘æˆ˜é€šå¤©å¡”å¯è·å¾—æ³•åˆ™çœŸæ„<br>
                    * æ¯10å±‚æ³•åˆ™æ‰ç‡ç¿»å€
                </div>
            </div>
        </div>

        <!-- Dungeon & Treasure Tab (å‰¯æœ¬æ¢é™© - åˆå¹¶å‰¯æœ¬+ç§˜å®) -->
        <div id="tab-dungeon" class="tab-content">
            <!-- ä¸Šéƒ¨ï¼šå‰¯æœ¬æŒ‘æˆ˜ -->
            <div class="system-section">
                <div class="res-display" style="border:none; color:#e65100;">ğŸ”¥ è¡€è‰²å‰¯æœ¬</div>
                <div class="sub-stat">å½“å‰å±‚æ•°: <span id="dungeon-tier" class="val">T1</span></div>
                <div class="sub-stat">å‰¯æœ¬éš¾åº¦: <span id="dungeon-lv" class="val">1</span></div>
                <div class="sub-stat">å½“å‰è¿›åº¦: <span id="dungeon-status">æœªå¼€å¯</span></div>
                <div class="sub-stat">è‡ªåŠ¨å€’è®¡æ—¶: <span id="dungeon-timer">--</span></div>
                
                <!-- å±‚æ•°é€‰æ‹© - æ— é™å±‚æ•° -->
                <div style="margin: 10px 0; padding: 8px; background: #1a1a1a; border-radius: 5px;">
                    <div style="font-size: 0.75rem; color: #888; margin-bottom: 5px;">è¾“å…¥å±‚æ•° (T-A):</div>
                    <div style="display: flex; gap: 5px; align-items: center;">
                        <span style="color: #888;">T-</span>
                        <input type="number" id="dungeon-tier-input" value="1" min="1" style="flex: 1; padding: 5px 8px; background: #262626; border: 1px solid #444; color: #fff; border-radius: 3px; font-size: 0.9rem; width: 60px;">
                        <button onclick="game.dungeon.setTierFromInput()" style="padding: 5px 12px; background: #e65100; border: none; color: white; border-radius: 3px; cursor: pointer; font-size: 0.8rem;">å‰å¾€</button>
                    </div>
                    <div id="dungeon-recommend-tier" style="font-size: 0.7rem; color: #4ade80; margin-top: 5px;">æ¨èå±‚æ•°: T1</div>
                    <div id="dungeon-unlock-hint" style="font-size: 0.7rem; color: #ff9800; margin-top: 3px;"></div>
                </div>
                
                <button class="sys-btn btn-dungeon" id="btn-dungeon-toggle" onclick="game.toggleDungeonMode()">ğŸ”¥ è¿›å…¥å‰¯æœ¬</button>
                <div style="font-size:0.7rem; color:#888; margin-top:5px;">
                    * ä¼¤å®³æ•°å€¼å‹ç¼©: (logä¼¤å®³)^2ã€‚<br>
                    * é€šå…³è·å¾—ç§˜å®å®ç®±ä¸ç¢ç‰‡ã€‚
                </div>
            </div>
            
            <!-- ä¸‹éƒ¨ï¼šç§˜å®ç³»ç»Ÿ -->
            <div class="system-section" style="margin-top:10px;">
                <div class="res-display" style="border:none; color:#7b1fa2;">ğŸº ç§˜å®é˜</div>
                <div class="sub-stat">å¾…å¼€å®ç®±: <span id="chest-count" class="highlight">0</span></div>
                <div class="sub-stat">å‰©ä½™æ¬¡æ•°: <span id="treasure-daily">20 / 20</span></div>
                <div class="sub-stat">ç§˜å®ç¢ç‰‡: <span id="treasure-frags">0</span></div>
                <button class="sys-btn btn-treasure" onclick="game.openTreasureModal()">ğŸšª è¿›å…¥ç§˜å®é˜</button>
                <div style="font-size:0.7rem; color:#888; margin-top:5px;">
                    * é€šå…³å‰¯æœ¬è·å¾—å®ç®±<br>
                    * æ¯æ—¥20æ¬¡å¼€å¯é™åˆ¶
                </div>
            </div>
        </div>

        <!-- Realm Breakthrough Tab (å¢ƒç•Œçªç ´ - ç‹¬ç«‹æ ‡ç­¾) -->
        <div id="tab-realm" class="tab-content">
            <div class="system-section">
                <div class="res-display" style="border:none; color:#ffd700;">âœ¨ å¢ƒç•Œçªç ´</div>
                <div class="sub-stat">å½“å‰å¢ƒç•Œ: <span id="realm-name" class="val highlight">å‡¡äºº-æ­¦è€…</span></div>
                <div class="sub-stat">å¢ƒç•ŒåŠ æˆ: <span id="realm-bonus" class="val">x1.00</span> (å…¨å±æ€§)</div>
                <div class="sub-stat">ä¸‹ä¸€å¢ƒç•Œ: <span id="next-realm" class="val">ç»ƒæ°”-åˆæœŸ</span></div>
                <div class="sub-stat">çªç ´éœ€æ±‚: å†å²æœ€é«˜éš¾åº¦è¾¾åˆ° <span id="realm-req" class="val highlight">N4</span></div>
                <div class="sub-stat">çªç ´è·¨åº¦: <span id="realm-span" class="val highlight" style="color:#f59e0b;">è·¨è¶Š 3 å±‚</span></div>
                <div class="sub-stat">çªç ´å€ç‡: <span id="realm-multiplier" class="val highlight" style="color:#ef4444;">x1.33</span></div>
                <div class="sub-stat">å½“å‰è¿›åº¦: <span id="realm-progress" class="val">1/4 (25%)</span></div>

                <button class="sys-btn btn-realm" id="btn-realm-challenge" onclick="game.summonRealmBoss()" disabled>ğŸ”’ éš¾åº¦ä¸è¶³</button>
                <div style="font-size:0.7rem; color:#888; margin-top:5px;">
                    * è¾¾åˆ°æŒ‡å®šéš¾åº¦åå¯æŒ‘æˆ˜å¢ƒç•Œå¤©åŠ«<br>
                    * å‡»è´¥å¤©åŠ«BOSSå³å¯çªç ´å¢ƒç•Œ<br>
                    * <b style="color:#f59e0b;">çªç ´è·¨åº¦è¶Šå¤§ï¼Œè·å¾—çš„åŠ æˆè¶Šä¸°åšï¼</b>
                </div>
            </div>
        </div>

        <!-- Spirit Garden Tab (ç™¾è‰çµå›­ - æ¦‚è§ˆå…¥å£) -->
        <div id="tab-garden" class="tab-content">
            <div class="system-section">
                <div class="res-display" style="border:none; color:#22c55e;">ğŸŒ¿ ç™¾è‰çµå›­</div>
                
                <!-- ç­‰çº§å’Œè½¬æ•° -->
                <div class="sub-stat">
                    <span>çµæ¤ç­‰çº§:</span>
                    <span>Lv.<span id="garden-overview-level" class="val highlight">1</span> 
                    (<span id="garden-overview-turn">å‡¡é˜¶</span>)</span>
                </div>
                
                <!-- çµçŸ³å’Œæ”¶å…¥ -->
                <div class="sub-stat">
                    <span>çµçŸ³å‚¨å¤‡:</span>
                    <span id="garden-overview-stones" class="val">100</span>
                </div>
                <div class="sub-stat">
                    <span>çµçŸ³æ”¶å…¥:</span>
                    <span id="garden-overview-income" class="val highlight" style="color:#22c55e;">+0/åˆ†</span>
                </div>
                <div class="sub-stat">
                    <span>ç”Ÿçµç²¾å:</span>
                    <span id="garden-overview-essence" class="val highlight" style="color:#a78bfa;">0</span>
                    <span style="font-size:0.7rem; color:#888;">(+<span id="garden-overview-essence-rate">0</span>/åˆ†)</span>
                </div>
                
                <!-- ç‚¼ä½“ä¿¡æ¯ -->
                <div style="background: rgba(139,92,246,0.1); border: 1px solid #8b5cf6; border-radius: 8px; padding: 8px; margin: 10px 0;">
                    <div style="color: #8b5cf6; font-size: 0.8rem; font-weight: bold; margin-bottom: 5px;">âš”ï¸ ç‚¼ä½“é”»èº«</div>
                    <div class="sub-stat" style="margin:3px 0;">
                        <span>é”»ä½“å¢ƒç•Œ:</span>
                        <span id="garden-overview-refine-realm" class="val" style="color:#888;">ç¬¬1å¢ƒÂ·å‡¡èƒ</span>
                    </div>
                    <div class="sub-stat" style="margin:3px 0;">
                        <span>å½“å‰è¿›åº¦:</span>
                        <span><span id="garden-overview-refine-step" class="val">0</span>/10</span>
                    </div>
                    <div class="sub-stat" style="margin:3px 0;">
                        <span>è‚‰èº«å¼ºåº¦:</span>
                        <span id="garden-overview-meridian-bonus" class="val" style="color:#ef4444;">Ã—1 / +0%</span>
                    </div>
                </div>
                
                <!-- åœŸåœ°çŠ¶æ€ -->
                <div class="sub-stat">
                    <span>å·²å¼€å¦:</span>
                    <span><span id="garden-overview-lands">4</span>/16 å—</span>
                </div>
                <div class="sub-stat">
                    <span>å¯æ”¶è·:</span>
                    <span id="garden-overview-mature" class="val highlight" style="color:#fbbf24;">0</span>
                </div>
                
                <!-- è¿›å…¥çµæ¤å›­æŒ‰é’® -->
                <button class="sys-btn btn-garden" onclick="game.openGardenModal()" style="margin-top:10px; background:linear-gradient(to right, #15803d, #22c55e);">
                    <i class="fas fa-leaf"></i> è¿›å…¥çµæ¤å›­
                </button>
                
                <div style="font-size:0.7rem; color:#888; margin-top:5px;">
                    * çµæ¤è‡ªåŠ¨ç”Ÿé•¿ï¼Œæ”¶è·è·å¾—çµçŸ³<br>
                    * çµæ¤ç»éªŒè‡ªåŠ¨è½¬åŒ–ä¸ºæ³•åˆ™çœŸæ„<br>
                    * å‚€å„¡æ‰˜ç®¡è‡ªåŠ¨æ”¶è·å’Œç§æ¤
                </div>
            </div>
        </div>

        <!-- Ancient Treasure Tab (å¤§åƒå®å½•) -->
        <div id="tab-ancient-treasure" class="tab-content">
            <div class="system-section">
                <div class="res-display" style="border:none; color:#3b82f6;">ğŸ“œ å¤§åƒå®å½•</div>

                <!-- æ”¶é›†è¿›åº¦ -->
                <div class="sub-stat">
                    <span>æ”¶é›†è¿›åº¦:</span>
                    <span id="ancient-treasure-progress" class="val highlight">0/0 (0%)</span>
                </div>

                <!-- å¯»å®ä»¤ -->
                <div class="sub-stat">
                    <span>å¯»å®ä»¤:</span>
                    <span id="ancient-treasure-tokens" class="val highlight" style="color:#fbbf24;">0</span>
                </div>

                <!-- æ€»å€ç‡é¢„è§ˆ -->
                <div style="margin:10px 0; padding:10px; background:rgba(59,130,246,0.1); border-radius:6px; font-size:0.85rem;">
                    <div style="color:#3b82f6; font-weight:bold;">æ€»å±æ€§å€ç‡: <span id="ancient-treasure-total-power">Ã—1.00</span></div>
                </div>

                <!-- é‡Œç¨‹ç¢‘ä¿¡æ¯ -->
                <div id="ancient-treasure-milestone" style="margin:10px 0; padding:10px; background:rgba(251,191,36,0.1); border:1px solid rgba(251,191,36,0.3); border-radius:6px; font-size:0.85rem;">
                    <div style="color: #fbbf24; font-weight: bold;">ğŸ† å·²å®Œæˆç•ŒåŸŸ: 0/6</div>
                    <div style="font-size: 0.75rem; color: #888;">é‡Œç¨‹ç¢‘åŠ æˆ: +0% (æ¯å®Œæˆä¸€ä¸ªç•ŒåŸŸ+50%)</div>
                </div>

                <!-- ç¾ç»Šç³»ç»Ÿ -->
                <div style="margin:10px 0; padding:10px; background:rgba(139,92,246,0.1); border:1px solid rgba(139,92,246,0.3); border-radius:6px; font-size:0.85rem;">
                    <div style="color: #a78bfa; font-weight: bold; margin-bottom:8px;">âš”ï¸ å¤å®ç¾ç»Š</div>
                    <div id="ancient-treasure-synergies" style="display:flex; flex-direction:column; gap:8px;">
                        <!-- ç¾ç»Šåˆ—è¡¨ç”±JSåŠ¨æ€ç”Ÿæˆ -->
                    </div>
                </div>

                <!-- å„ç•ŒåŸŸæ”¶é›†è¿›åº¦ -->
                <div id="ancient-treasure-realms" style="margin:10px 0;"></div>

                <!-- è¿›å…¥æŒ‰é’® -->
                <button class="sys-btn" onclick="game.openAncientTreasureModal()" style="margin-top:10px; background:linear-gradient(to right, #1e40af, #3b82f6);">
                    ğŸ“œ è¿›å…¥å¤§åƒå®å½•
                </button>

                <div style="font-size:0.7rem; color:#888; margin-top:5px;">
                    * æ”¶é›†å„ç•Œå¤å®ï¼Œè·å¾—å·¨å¤§åŠ æˆ<br>
                    * å¤å®å“è´¨è¶Šé«˜ï¼Œæˆé•¿ç‡è¶Šé«˜<br>
                    * ä½¿ç”¨å¯»å®ä»¤è¿›è¡Œå¤©å‘½å¯»å® (URä¿åº•40æŠ½)
                </div>
            </div>
        </div>

        <!-- ZhouTian Star Acupoint Tab (å‘¨å¤©æ˜Ÿçª) -->
        <div id="tab-zhou-tian" class="tab-content">
            <div class="system-section">
                <div class="res-display" style="border:none; color:#fbbf24;">â­ å‘¨å¤©æ˜Ÿçª</div>

                <!-- å‘¨å¤©ç­‰çº§å’ŒæŒ‡æ•°åŠ æˆ -->
                <div style="display:grid; grid-template-columns: 1fr 1fr; gap:8px; margin-bottom:10px;">
                    <div style="background:#1a1a1a; padding:8px; border-radius:6px; text-align:center;">
                        <div style="font-size:0.7rem; color:#888;">å½“å‰å‘¨å¤©</div>
                        <div id="zhou-tian-level" style="font-size:1.3rem; font-weight:bold; color:#fbbf24;">ç¬¬1å‘¨å¤©</div>
                    </div>
                    <div style="background:#1a1a1a; padding:8px; border-radius:6px; text-align:center;">
                        <div style="font-size:0.7rem; color:#888;">æŒ‡æ•°åŠ æˆ</div>
                        <div id="zhou-tian-exp-bonus" style="font-size:1.3rem; font-weight:bold; color:#a855f7;">+0.0%</div>
                    </div>
                </div>

                <!-- åœ†æ»¡è¿›åº¦ -->
                <div style="background:#1a1a1a; padding:10px; border-radius:6px; margin-bottom:10px;">
                    <div style="display:flex; justify-content:space-between; font-size:0.8rem; margin-bottom:5px;">
                        <span style="color:#888;">æ˜ŸåŸŸåœ†æ»¡è¿›åº¦</span>
                        <span id="zhou-tian-complete-count" style="color:#22c55e; font-weight:bold;">0/5</span>
                    </div>
                    <div style="height:6px; background:#333; border-radius:3px; overflow:hidden;">
                        <div id="zhou-tian-progress" style="width:0%; height:100%; background:linear-gradient(90deg, #fbbf24, #f59e0b); transition:width 0.3s;"></div>
                    </div>
                </div>

                <!-- å±æ€§åŠ æˆé¢„è§ˆ -->
                <div style="background:#1a1a1a; padding:10px; border-radius:6px; margin-bottom:10px; font-size:0.75rem;">
                    <div style="color:#888; margin-bottom:5px;">å±æ€§åŠ æˆ</div>
                    <div style="display:grid; grid-template-columns: 1fr 1fr; gap:5px;">
                        <div>ğŸ‰ æ”»å‡»: <span id="zhou-tian-atk" class="val" style="color:#22c55e;">Ã—1</span></div>
                        <div>ğŸ¦… ç”Ÿå‘½: <span id="zhou-tian-hp" class="val" style="color:#ef4444;">Ã—1</span></div>
                        <div>ğŸ… è£…å¤‡: <span id="zhou-tian-equip" class="val" style="color:#f59e0b;">+0</span></div>
                        <div>ğŸ¢ ç²¾å: <span id="zhou-tian-essence" class="val" style="color:#3b82f6;">Ã—1</span></div>
                        <div style="grid-column:span 2;">ğŸ¦Œ å…¨å±: <span id="zhou-tian-all" class="val" style="color:#a855f7;">Ã—1</span></div>
                    </div>
                </div>

                <!-- æ˜Ÿé«“æ•°é‡ -->
                <div style="display:flex; justify-content:space-between; align-items:center; background:linear-gradient(135deg, #1a1a2e 0%, #0f0f1a 100%); padding:10px; border-radius:6px; border:1px solid #333; margin-bottom:10px;">
                    <span style="font-size:0.8rem; color:#888;">ğŸ’ æ˜Ÿé«“</span>
                    <span id="zhou-tian-marrow-count" style="font-size:1.1rem; font-weight:bold; color:#fbbf24;">1000</span>
                </div>

                <!-- è¿›å…¥æŒ‰é’® -->
                <button class="sys-btn" onclick="game.openZhouTianModal()" style="background:linear-gradient(to right, #d97706, #fbbf24); color:#000; font-weight:bold;">
                    â­ è¿›å…¥æ˜Ÿçªæ´—ç»ƒ
                </button>

                <div style="font-size:0.7rem; color:#888; margin-top:5px;">
                    * æ´—ç»ƒæ˜Ÿçªè·å¾—å±æ€§åŠ æˆ<br>
                    * 25çªå…¨æ»¡å¯è¿›å…¥ä¸‹ä¸€å‘¨å¤©<br>
                    * æ¯å‘¨å¤©+0.1%æŒ‡æ•°åŠ æˆ
                </div>
            </div>
        </div>

        <!-- Abyss Relic Tab (æ·±æ¸Šé—å®) -->
        <div id="tab-abyss" class="tab-content">
            <div class="system-section">
                <div class="res-display" style="border:none; color:#8b5cf6;">ğŸŒ‘ æ·±æ¸Šé—å®</div>
                
                <!-- æ”¶é›†è¿›åº¦ -->
                <div class="sub-stat">
                    <span>æ”¶é›†è¿›åº¦:</span>
                    <span id="abyss-overview-progress" class="val highlight">0/0 (0%)</span>
                </div>
                
                <!-- é—å®ç¢ç‰‡ -->
                <div class="sub-stat">
                    <span>é—å®ç¢ç‰‡:</span>
                    <span id="abyss-overview-fragments" class="val highlight" style="color:#fbbf24;">0</span>
                </div>
                
                <!-- å±æ€§åŠ æˆé¢„è§ˆ -->
                <div id="abyss-bonus-preview" style="margin:10px 0; padding:10px; background:rgba(139,92,246,0.1); border-radius:6px; font-size:0.85rem;">
                    <div style="color:#888;">æš‚æ— å±æ€§åŠ æˆ</div>
                </div>
                
                <!-- è¿›å…¥æ·±æ¸Šæˆ˜åœºæŒ‰é’® -->
                <button class="sys-btn" onclick="game.openAbyssModal()" style="margin-top:10px; background:linear-gradient(to right, #7c3aed, #8b5cf6);">
                    âš”ï¸ æ·±æ¸Šæˆ˜åœº
                </button>
                
                <!-- é—å®å›¾é‰´æŒ‰é’® -->
                <button class="sys-btn" onclick="game.openAbyssCodex()" style="margin-top:10px; background:linear-gradient(to right, #0891b2, #06b6d4);">
                    ğŸ“š é—å®å›¾é‰´
                </button>
                
                <div style="font-size:0.7rem; color:#888; margin-top:5px;">
                    * æŒ‘æˆ˜æ·±æ¸ŠBOSSè·å–é—å®<br>
                    * é—å®å¯å‡çº§ï¼Œæ»¡çº§è‡ªåŠ¨åˆ†è§£<br>
                    * ç¢ç‰‡å¯å…‘æ¢ä»»æ„é—å®
                </div>
            </div>
        </div>

        <!-- Technique Tab (åŠŸæ³•ä¿®ç‚¼) - ç´§å‡‘å¸ƒå±€ -->
        <div id="tab-technique" class="tab-content">
            <div class="system-section" style="padding: 10px;">
                <!-- é¡¶éƒ¨ç»Ÿè®¡è¡Œ -->
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px;">
                    <span style="color: #10b981; font-weight: bold;">ğŸ“š åŠŸæ³•ä¿®ç‚¼</span>
                    <span style="color: #fbbf24; font-size: 0.9rem;">ğŸ’ <span id="res-stones">0</span></span>
                </div>

                <!-- åŠŸæ³•åŠ æˆæ€»è§ˆ (ç´§å‡‘) -->
                <div id="technique-total-bonus" style="margin-bottom: 10px; padding: 6px; background: rgba(16,185,129,0.1); border-radius: 4px; font-size: 0.75rem;">
                    <div style="color: #888;">æš‚æ— åŠŸæ³•åŠ æˆ</div>
                </div>

                <!-- åŠŸæ³•åˆ—è¡¨ (ç´§å‡‘) -->
                <div id="technique-list" style="max-height: 60vh; overflow-y: auto;">
                    <!-- åŠŸæ³•å¡ç‰‡åŠ¨æ€ç”Ÿæˆ -->
                </div>
            </div>
        </div>
    </div>
</div>

<div id="tooltip"></div>

<!-- Item Modal -->
<div id="item-modal" class="game-modal" style="z-index: 2000;">
    <div class="modal-content">
        <h3 id="modal-title" style="margin-top:0;">Item Name</h3>
        <p id="modal-desc" style="color:#aaa; font-size:0.9rem;">Stats</p>
        <div id="modal-actions">
            <!-- Buttons injected by JS -->
        </div>
        <button class="modal-btn btn-close" onclick="game.closeModal('item-modal')">å…³é—­</button>
    </div>
</div>

<!-- Treasure Full Screen Modal -->
<div id="treasure-full-modal" class="game-modal">
    <div class="modal-content">
        <div style="display:flex; justify-content:space-between; align-items:center; border-bottom:1px solid #444; padding-bottom:10px;">
            <h2 style="margin:0; color:#7b1fa2;">ç§˜å®é˜</h2>
            <button class="modal-btn btn-close" style="width:auto; margin:0;" onclick="game.closeModal('treasure-full-modal')">âœ•</button>
        </div>
        
        <div class="treasure-layout">
            <!-- Left: Equipped -->
            <div class="treasure-left-panel">
                <div style="font-weight:bold; margin-bottom:10px; color:#aaa;">å·²è£…å¤‡ç§˜å® (å³é”®å¸ä¸‹)</div>
                <div class="equip-grid" id="treasure-equip-grid" style="grid-template-columns: repeat(2, 1fr); gap: 8px;">
                    <!-- Slots -->
                </div>
                
                <div style="margin-top:auto; font-size:0.8rem; color:#888;">
                    <div class="sub-stat">å¾…å¼€å®ç®±: <span id="modal-chest-count" class="highlight">0</span></div>
                    <div class="sub-stat">å‰©ä½™æ¬¡æ•°: <span id="modal-daily-count">20</span></div>
                    <div class="sub-stat">ç§˜å®ç¢ç‰‡: <span id="modal-frag-count">0</span></div>
                </div>
            </div>

            <!-- Right: Bag & Controls -->
            <div class="treasure-right-panel">
                <div style="display:flex; gap:10px; margin-bottom:10px;">
                    <button class="sys-btn btn-treasure" style="flex:1; margin:0;" onclick="game.openTreasureBox(1)">ğŸ å¼€å¯å®ç®± (æ¶ˆè€—1æ¬¡)</button>
                    <button class="sys-btn btn-treasure" style="flex:1; margin:0;" onclick="game.exchangeTreasure()">â™»ï¸ ç¢ç‰‡å…‘æ¢</button>
                </div>

                <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:5px;">
                    <span style="font-weight:bold; color:#aaa;">ç§˜å®èƒŒåŒ… (å³é”®ç©¿æˆ´/æ›¿æ¢)</span>
                    <button onclick="game.autoDecompose()" style="font-size:0.8rem; padding:4px 8px; background:#f44336; border:none; color:white; cursor:pointer;">ä¸€é”®åˆ†è§£</button>
                </div>
                
                <div class="treasure-bag-grid" id="treasure-bag">
                    <!-- Bag Items -->
                </div>

                <div style="margin-top:10px; border-top:1px solid #444; padding-top:10px; display:flex; gap:5px;">
                    <input type="text" id="redeem-code-modal" placeholder="è¾“å…¥å…‘æ¢ç " style="flex:1; padding:5px; background:#111; border:1px solid #444; color:#fff;">
                    <button onclick="game.redeemCode('modal')" style="padding:5px 15px;">å…‘æ¢</button>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Garden Full Screen Modal -->
<div id="garden-full-modal" class="game-modal" style="z-index: 1500;">
    <div class="modal-content" style="width: 95%; max-width: 1100px; height: 90%; display: flex; flex-direction: column;">
        <div style="display:flex; justify-content:space-between; align-items:center; border-bottom:1px solid #444; padding-bottom:10px; margin-bottom:10px;">
            <h2 style="margin:0; color:#22c55e;">ğŸŒ¿ ç™¾è‰çµå›­</h2>
            <button class="modal-btn btn-close" style="width:auto; margin:0;" onclick="game.closeGardenModal()">âœ•</button>
        </div>
        
        <div style="display:flex; gap:15px; flex:1; overflow:hidden;">
            <!-- å·¦ä¾§ï¼šç‚¼ä½“é”»èº« -->
            <div style="flex:1; display:flex; flex-direction:column; gap:10px; min-width:220px; max-width:280px;">
                <!-- ç‚¼ä½“å›¾ -->
                <div style="background:#1a1a1a; padding:10px; border-radius:8px; flex:1; display:flex; flex-direction:column;">
                    <h3 style="margin:0 0 10px 0; color:#8b5cf6; font-size:1rem;">âš”ï¸ ç‚¼ä½“é”»èº«</h3>
                    
                    <!-- ç‚¼ä½“å›¾å®¹å™¨ -->
                    <div id="meridian-map-container" style="flex:1; position:relative; background:radial-gradient(circle at center, #1a1a2e 0%, #0f0f1a 100%); border-radius:8px; min-height:320px; height:320px; overflow:hidden; display:flex; align-items:center; justify-content:center;">
                        <!-- ç”±JSç”Ÿæˆç»è„‰å›¾ -->
                    </div>
                    
                    <!-- æ·¬ç‚¼ä¿¡æ¯ -->
                    <div style="margin-top:10px; padding:10px; background:#262626; border-radius:6px;">
                        <!-- å¢ƒç•Œæ˜¾ç¤º -->
                        <div style="text-align:center; padding:8px; background:linear-gradient(135deg, #1a1a2e 0%, #0f0f1a 100%); border-radius:6px; margin-bottom:10px; border:1px solid #333;">
                            <div style="font-size:0.7rem; color:#888; margin-bottom:3px;">é”»ä½“å¢ƒç•Œ</div>
                            <div id="garden-refine-realm" style="font-size:1.1rem; font-weight:bold; color:#888;">ç¬¬1å¢ƒÂ·å‡¡èƒ</div>
                            <div id="garden-refine-realm-desc" style="font-size:0.65rem; color:#666; margin-top:2px;">æœªæ›¾ä¿®ç‚¼</div>
                        </div>
                        <div style="display:flex; justify-content:space-between; font-size:0.8rem; margin-bottom:5px;">
                            <span style="color:#888;">å½“å‰è½®æ¬¡:</span>
                            <span id="garden-refine-round" style="color:#fbbf24; font-weight:bold;">0è½®</span>
                        </div>
                        <div style="display:flex; justify-content:space-between; font-size:0.8rem; margin-bottom:5px;">
                            <span style="color:#888;">å½“å‰è¿›åº¦:</span>
                            <span id="garden-refine-step" style="color:#22c55e;">0/10</span>
                        </div>
                        <div style="display:flex; justify-content:space-between; font-size:0.8rem; margin-bottom:5px;">
                            <span style="color:#888;">è‚‰èº«å¼ºåº¦:</span>
                            <span id="garden-meridian-bonus" style="color:#ef4444; font-weight:bold;">Ã—1 / +0%</span>
                        </div>
                        
                        <!-- ä¸‹ä¸€çº§é¢„è§ˆ -->
                        <div style="background:linear-gradient(135deg, #1a2f1a 0%, #0f1f0f 100%); border:1px solid #22c55e40; border-radius:6px; padding:8px; margin:8px 0;">
                            <div style="font-size:0.7rem; color:#22c55e; margin-bottom:4px;">ğŸ¯ ä¸‹ä¸€çº§çªç ´</div>
                            <div style="display:flex; justify-content:space-between; font-size:0.75rem; margin-bottom:3px;">
                                <span style="color:#888;">å½“å‰:</span>
                                <span id="garden-preview-current" style="color:#aaa;">Ã—1</span>
                            </div>
                            <div style="display:flex; justify-content:space-between; font-size:0.75rem; margin-bottom:3px;">
                                <span style="color:#888;">çªç ´å:</span>
                                <span id="garden-preview-next" style="color:#fbbf24; font-weight:bold;">Ã—1.1</span>
                            </div>
                            <div style="display:flex; justify-content:space-between; font-size:0.75rem;">
                                <span style="color:#888;">æ”¶ç›Š:</span>
                                <span id="garden-preview-gain" style="color:#4ade80;">Ã—1.1 å…¨å±æ€§</span>
                            </div>
                        </div>
                        <div style="border-top:1px solid #444; padding-top:8px; margin-top:8px;">
                            <div style="display:flex; justify-content:space-between; font-size:0.8rem; margin-bottom:5px;">
                                <span style="color:#a78bfa;">ğŸ’§ ç”Ÿçµç²¾å:</span>
                                <span id="garden-life-essence" style="color:#a78bfa; font-weight:bold;">0</span>
                            </div>
                            <div style="display:flex; justify-content:space-between; font-size:0.75rem; color:#666;">
                                <span>ä¸‹æ¬¡æ¶ˆè€—:</span>
                                <span id="garden-refine-cost">100</span>
                            </div>
                        </div>
                    </div>
                    
                    <!-- æ·¬ç‚¼æŒ‰é’® -->
                    <div style="display:grid; grid-template-columns: 1fr 1fr; gap:8px; margin-top:10px;">
                        <button class="sys-btn" style="background:linear-gradient(to right, #dc2626, #ef4444); font-size:0.8rem; padding:8px;" onclick="game.garden.refinement.refineAndUpdate()">
                            ğŸ”¥ é”»ä½“å¼ºèº«
                        </button>
                        <button class="sys-btn" style="background:linear-gradient(to right, #991b1b, #b91c1c); font-size:0.8rem; padding:8px;" onclick="game.garden.refinement.refineAll()">
                            âš”ï¸ è¿ç»­é”»ä½“
                        </button>
                    </div>
                </div>
            </div>
            
            <!-- ä¸­é—´ï¼šçµæ¤å›­ä¸»ç•Œé¢ -->
            <div style="flex:2; display:flex; flex-direction:column; gap:10px; overflow:hidden;">
                <!-- çŠ¶æ€æ  -->
                <div style="background:#1a1a1a; padding:10px; border-radius:8px; display:flex; justify-content:space-between; align-items:center;">
                    <div>
                        <div style="font-size:1.1rem; font-weight:bold; color:#22c55e;">
                            Lv.<span id="garden-modal-level">1</span> 
                            (<span id="garden-modal-turn">å‡¡é˜¶</span>)
                        </div>
                        <div style="width:150px; height:6px; background:#333; border-radius:3px; margin-top:5px; overflow:hidden;">
                            <div id="garden-modal-exp-bar" style="width:0%; height:100%; background:linear-gradient(90deg, #22c55e, #16a34a);"></div>
                        </div>
                    </div>
                    <div style="text-align:right;">
                        <div style="font-size:1.2rem; color:#fbbf24; font-weight:bold;">
                            ğŸ’ <span id="garden-modal-stones">100</span>
                        </div>
                        <div style="font-size:0.75rem; color:#888;">
                            <span style="color:#22c55e;" id="garden-modal-income">+0/åˆ†</span> | 
                            <span style="color:#3b82f6;" id="garden-modal-exp-rate">+0/åˆ†</span> | 
                            <span style="color:#a78bfa;" id="garden-modal-essence-rate">+0/åˆ†</span>
                        </div>
                    </div>
                </div>
                
                <!-- åœŸåœ°ç½‘æ ¼ -->
                <div style="flex:1; background:#1a1a1a; border-radius:8px; padding:10px; overflow-y:auto;">
                    <div id="modal-land-grid" class="garden-land-grid" style="grid-template-columns: repeat(4, 1fr);">
                        <!-- ç”±JSç”Ÿæˆ -->
                    </div>
                </div>
                
                <!-- æ“ä½œæŒ‰é’® -->
                <div style="display:grid; grid-template-columns: repeat(4, 1fr); gap:8px;">
                    <button class="sys-btn" style="background:linear-gradient(to right, #15803d, #22c55e); font-size:0.8rem; padding:8px;" onclick="game.gardenOneClickHarvest()">
                        <i class="fas fa-hand-holding-dollar"></i> ä¸€é”®æ”¶è·
                    </button>
                    <button class="sys-btn" style="background:linear-gradient(to right, #1d4ed8, #3b82f6); font-size:0.8rem; padding:8px;" onclick="game.gardenOneClickPlant()">
                        <i class="fas fa-seedling"></i> ä¸€é”®ç§æ¤
                    </button>
                    <button class="sys-btn" style="background:linear-gradient(to right, #991b1b, #dc2626); font-size:0.8rem; padding:8px;" onclick="game.gardenOneClickClear()">
                        <i class="fas fa-trash-alt"></i> é“²é™¤æœªç†Ÿ
                    </button>
                    <button id="modal-puppet-btn" class="sys-btn" style="background:linear-gradient(to right, #581c87, #9333ea); font-size:0.8rem; padding:8px; opacity:0.6;" onclick="game.togglePuppetMode()" disabled>
                        <i class="fas fa-robot"></i> å‚€å„¡
                    </button>
                </div>
            </div>
            
            <!-- å³ä¾§ï¼šçµæ¤é˜ -->
            <div style="flex:1; display:flex; flex-direction:column; gap:10px; min-width:200px;">
                <div style="background:#1a1a1a; padding:10px; border-radius:8px; flex:1; display:flex; flex-direction:column;">
                    <h3 style="margin:0 0 10px 0; color:#16a34a; font-size:1rem;">ğŸª çµæ¤é˜</h3>
                    
                    <!-- è½¬æ•°é€‰æ‹©å™¨ -->
                    <div style="padding-bottom:8px; margin-bottom:8px; border-bottom:1px solid #333;">
                        <label style="font-size:0.75rem; color:#9ca3af; margin-bottom:4px; display:block;">é€‰æ‹©è½¬æ•°</label>
                        <select id="modal-turn-selector" onchange="game.garden.setShopTurn(parseInt(this.value)); game.updateGardenUI();" style="width:100%; padding:6px; background:#262626; border:1px solid #4b5563; border-radius:4px; color:#fff; font-size:0.85rem;">
                            <!-- ç”±JSç”Ÿæˆ -->
                        </select>
                    </div>
                    
                    <!-- å·¥å…·æ  -->
                    <div id="modal-shovel-btn" class="tool-btn" style="padding:8px; background:#374151; border-radius:6px; display:flex; align-items:center; gap:8px; border:1px solid #4b5563; margin-bottom:8px;">
                        <span style="font-size:1.3rem;">â›ï¸</span>
                        <div style="pointer-events:none;">
                            <div style="font-size:0.85rem; color:#f87171; font-weight:bold;">ç‰çµé“²</div>
                            <div style="font-size:0.7rem; color:#9ca3af;">ç‚¹å‡»æ¤ç‰©å•ä½“ç§»é™¤</div>
                        </div>
                    </div>
                    
                    <!-- ç§å­åˆ—è¡¨ -->
                    <div id="modal-seed-list" style="flex:1; overflow-y:auto; background:#262626; border-radius:6px; padding:6px;">
                        <!-- ç”±JSç”Ÿæˆ -->
                    </div>
                    
                    <!-- ä¸¹ç«æç‚¼ -->
                    <div id="modal-alchemy-toggle" style="display:none; margin-top:8px; padding:8px; background:#262626; border-radius:6px; align-items:center; justify-content:space-between;">
                        <div>
                            <span style="color:#f97316;">ğŸ”¥ ä¸¹ç«æç‚¼</span>
                            <span style="font-size:0.7rem; color:#888; margin-left:5px;">+20%æ”¶ç›Š</span>
                        </div>
                        <button id="modal-alchemy-btn" onclick="game.toggleAlchemyMode();" style="padding:4px 12px; background:#374151; border:none; border-radius:4px; color:#fff; font-size:0.75rem; cursor:pointer;">OFF</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Abyss Battle Modal (æ·±æ¸Šæˆ˜åœº) -->
<div id="abyss-modal" class="game-modal">
    <div class="modal-content" style="width: 90%; max-width: 600px; height: 90%; display: flex; flex-direction: column;">
        <div style="display:flex; justify-content:space-between; align-items:center; border-bottom:1px solid #444; padding-bottom:10px; margin-bottom:10px;">
            <h2 style="margin:0; color:#8b5cf6;">ğŸŒ‘ æ·±æ¸Šæˆ˜åœº</h2>
            <button class="modal-btn btn-close" style="width:auto; margin:0;" onclick="game.closeAbyssModal()">âœ•</button>
        </div>
        
        <div style="flex:1; overflow-y:auto; padding-right:5px;">
            <div style="background:#1a1a1a; padding:15px; border-radius:8px; margin-bottom:15px;">
                <div style="color:#888; font-size:0.85rem; margin-bottom:10px;">
                    ğŸ‘‡ ç‚¹å‡»ä¸‹æ–¹æŒ‰é’®ç›´æ¥æŒ‘æˆ˜BOSS
                </div>
                <div id="boss-select-list" style="display:flex; flex-direction:column; gap:10px;">
                    <!-- ç”±JSç”Ÿæˆ -->
                </div>
            </div>
            
            <!-- æ”¶é›†è¿›åº¦ -->
            <div style="background:#1a1a1a; padding:15px; border-radius:8px; margin-bottom:15px;">
                <div id="abyss-total-progress" style="color:#a78bfa; font-size:0.9rem;">
                    ğŸ“š é—å®æ”¶é›†ï¼š0/0 (0%)
                </div>
            </div>
            
            <!-- å›¾é‰´æŒ‰é’® -->
            <button class="sys-btn" onclick="game.openAbyssCodex()" style="background:linear-gradient(to right, #0891b2, #06b6d4); width:100%;">
                ğŸ“š æŸ¥çœ‹é—å®å›¾é‰´
            </button>
        </div>
    </div>
</div>

<!-- Abyss Codex Modal (é—å®å›¾é‰´) -->
<div id="abyss-codex-modal" class="game-modal">
    <div class="modal-content" style="width: 95%; max-width: 1200px; height: 90%; display: flex; flex-direction: column;">
        <div style="display:flex; justify-content:space-between; align-items:center; border-bottom:1px solid #444; padding-bottom:10px; margin-bottom:10px;">
            <h2 style="margin:0; color:#8b5cf6;">ğŸ“š é—å®å›¾é‰´</h2>
            <button class="modal-btn btn-close" style="width:auto; margin:0;" onclick="game.closeAbyssCodex()">âœ•</button>
        </div>
        
        <!-- æ€»ä½“æ”¶é›†è¿›åº¦ -->
        <div id="collection-progress" style="margin-bottom:10px; padding:10px; background:#1a1a1a; border-radius:6px;">
            <!-- ç”±JSç”Ÿæˆ -->
        </div>
        
        <!-- 5åˆ—é—å®å›¾é‰´ï¼ˆæ¯åˆ—ä¸€ä¸ªBOSSï¼‰ -->
        <div id="relic-codex-container" style="flex:1; display:grid; grid-template-columns: repeat(5, 1fr); gap:10px; overflow-y:auto; background:#1a1a1a; border-radius:8px; padding:12px;">
            <!-- ç”±JSç”Ÿæˆ5åˆ— -->
        </div>
    </div>
</div>

<!-- Stats Detail Modal -->
<div id="stats-detail-modal" class="game-modal">
    <div class="modal-content" style="max-width: 600px; max-height: 80vh; overflow-y: auto;">
        <h3 style="margin-top:0; color:#fbbf24;">ğŸ“Š å±æ€§è¯¦æƒ…é¢æ¿</h3>
        
        <!-- æœ€ç»ˆå±æ€§ -->
        <div style="background: linear-gradient(135deg, #fbbf2420 0%, #f59f0b20 100%); border: 1px solid #fbbf24; border-radius: 10px; padding: 15px; margin-bottom: 15px;">
            <div style="color: #fbbf24; font-weight: bold; margin-bottom: 10px; font-size: 1.1rem;">âš”ï¸ æœ€ç»ˆæˆ˜æ–—å±æ€§</div>
            <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px; text-align: center;">
                <div style="background: rgba(0,0,0,0.3); padding: 10px; border-radius: 8px;">
                    <div style="color: #888; font-size: 0.75rem;">ç”Ÿå‘½å€¼</div>
                    <div id="detail-final-hp" style="color: #4ade80; font-weight: bold; font-size: 0.9rem;">-</div>
                </div>
                <div style="background: rgba(0,0,0,0.3); padding: 10px; border-radius: 8px;">
                    <div style="color: #888; font-size: 0.75rem;">æ”»å‡»åŠ›</div>
                    <div id="detail-final-atk" style="color: #f87171; font-weight: bold; font-size: 0.9rem;">-</div>
                </div>
                <div style="background: rgba(0,0,0,0.3); padding: 10px; border-radius: 8px;">
                    <div style="color: #888; font-size: 0.75rem;">æš´å‡»ç‡</div>
                    <div id="detail-final-crit" style="color: #fbbf24; font-weight: bold; font-size: 0.9rem;">-</div>
                </div>
            </div>
        </div>
        
        <!-- å„ç³»ç»ŸåŠ æˆè¯¦æƒ… -->
        <div style="display: grid; gap: 12px;">
            
            <!-- åŸºç¡€å±æ€§ -->
            <div style="background: rgba(255,255,255,0.05); border-radius: 8px; padding: 12px;">
                <div style="color: #888; font-size: 0.85rem; margin-bottom: 8px;">ğŸ“Š åŸºç¡€å±æ€§</div>
                <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 8px; font-size: 0.8rem;">
                    <div>ç”Ÿå‘½: <span id="detail-base-hp" class="val">-</span></div>
                    <div>æ”»å‡»: <span id="detail-base-atk" class="val">-</span></div>
                    <div>æš´å‡»: <span id="detail-base-crit" class="val">-</span></div>
                </div>
            </div>
            
            <!-- å¢ƒç•ŒåŠ æˆ -->
            <div style="background: rgba(255,255,255,0.05); border-radius: 8px; padding: 12px;">
                <div style="color: #888; font-size: 0.85rem; margin-bottom: 8px;">âœ¨ å¢ƒç•ŒåŠ æˆ (è·¨åº¦å¥–åŠ±)</div>
                <div style="font-size: 0.8rem;">
                    <div>å½“å‰å¢ƒç•Œ: <span id="detail-realm-name" class="val" style="color:#c084fc">-</span></div>
                    <div>å¢ƒç•Œå€ç‡: <span id="detail-realm-bonus" class="val" style="color:#fbbf24">-</span></div>
                    <div>çªç ´æ¬¡æ•°: <span id="detail-realm-count" class="val">-</span></div>
                    <div style="color:#888; font-size:0.75rem; margin-top:4px;">
                        * æ¯æ¬¡çªç ´è·å¾— x1.1^(è·¨åº¦) å€ç‡
                    </div>
                </div>
            </div>
            
            <!-- è£…å¤‡åŠ æˆ -->
            <div style="background: rgba(255,255,255,0.05); border-radius: 8px; padding: 12px;">
                <div style="color: #888; font-size: 0.85rem; margin-bottom: 8px;">ğŸ›¡ï¸ è£…å¤‡åŠ æˆ (12ä»¶)</div>
                <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 8px; font-size: 0.8rem;">
                    <div>è£…å¤‡æ”»å‡»: <span id="detail-equip-atk" class="val">-</span></div>
                    <div>è£…å¤‡ç”Ÿå‘½: <span id="detail-equip-hp" class="val">-</span></div>
                    <div>è£…å¤‡æš´å‡»: <span id="detail-equip-crit" class="val">-</span></div>
                </div>
            </div>
            
            <!-- æ³•åˆ™åŠ æˆ -->
            <div style="background: rgba(255,255,255,0.05); border-radius: 8px; padding: 12px;">
                <div style="color: #888; font-size: 0.85rem; margin-bottom: 8px;">â˜¯ï¸ æ³•åˆ™æ‚Ÿé“</div>
                <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 8px; font-size: 0.8rem;">
                    <div>æ”»å‡»å€ç‡: <span id="detail-law-atk" class="val" style="color:#60a5fa">-</span></div>
                    <div>ç”Ÿå‘½å€ç‡: <span id="detail-law-hp" class="val" style="color:#60a5fa">-</span></div>
                    <div>å½“å‰è½®æ¬¡: <span id="detail-law-round" class="val">-</span></div>
                </div>
            </div>
            
            <!-- ç§˜å®åŠ æˆ -->
            <div style="background: rgba(255,255,255,0.05); border-radius: 8px; padding: 12px;">
                <div style="color: #888; font-size: 0.85rem; margin-bottom: 8px;">ğŸ”® ç§˜å®åŠ æˆ (6æ§½ä½)</div>
                <div style="font-size: 0.8rem;">
                    <div>å…¨å±æ€§å€ç‡: <span id="detail-treasure-mult" class="val" style="color:#fbbf24">-</span></div>
                    <div>ä¸¹è¯å€ç‡: <span id="detail-treasure-pill" class="val" style="color:#fbbf24">-</span></div>
                    <div>çˆ¬å¡”æ‰ç‡: <span id="detail-treasure-tower" class="val" style="color:#fbbf24">-</span></div>
                    <div id="detail-treasure-list" style="color: #666; font-size: 0.75rem; margin-top: 5px;">-</div>
                </div>
            </div>
            
            <!-- é—å®åŠ æˆ -->
            <div style="background: rgba(255,255,255,0.05); border-radius: 8px; padding: 12px;">
                <div style="color: #888; font-size: 0.85rem; margin-bottom: 8px;">ğŸŒ‘ æ·±æ¸Šé—å®</div>
                <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 8px; font-size: 0.8rem;">
                    <div>å…¨å±æ€§å€ç‡: <span id="detail-relic-stat" class="val" style="color:#ef4444">-</span></div>
                    <div>çˆ¬å¡”æ‰ç‡: <span id="detail-relic-tower" class="val" style="color:#ef4444">-</span></div>
                    <div>åˆ·ä¸¹å€ç‡: <span id="detail-relic-pill" class="val" style="color:#ef4444">-</span></div>
                    <div>è£…å¤‡ç­‰çº§: <span id="detail-relic-equip" class="val" style="color:#f59f0b">-</span></div>
                    <div>ç§˜å®ç­‰çº§: <span id="detail-relic-treasure" class="val" style="color:#f59f0b">-</span></div>
                </div>
            </div>
            
            <!-- ç‚¼ä½“åŠ æˆ -->
            <div style="background: rgba(255,255,255,0.05); border-radius: 8px; padding: 12px;">
                <div style="color: #888; font-size: 0.85rem; margin-bottom: 8px;">âš”ï¸ ç‚¼ä½“é”»èº« (ç™¾è‰çµå›­)</div>
                <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 8px; font-size: 0.8rem;">
                    <div>é”»ä½“å¢ƒç•Œ: <span id="detail-meridian-realm" class="val" style="color:#22c55e">-</span></div>
                    <div>é”»ä½“è½®æ¬¡: <span id="detail-meridian-round" class="val">-</span></div>
                    <div>è‚‰èº«åŠ æˆ: <span id="detail-meridian-mult" class="val" style="color:#8b5cf6">-</span></div>
                </div>
            </div>
            
            <!-- è®¡ç®—è¯´æ˜ -->
            <div style="background: rgba(0,0,0,0.3); border-radius: 8px; padding: 10px; font-size: 0.75rem; color: #666;">
                <div style="color: #888; margin-bottom: 5px;">ğŸ“ è®¡ç®—å…¬å¼</div>
                <div>æœ€ç»ˆæ”»å‡» = (åŸºç¡€æ”»å‡» + è£…å¤‡æ”»å‡») Ã— æ³•åˆ™æ”»å‡»å€ç‡ Ã— ç§˜å®å…¨å±æ€§å€ç‡ Ã— é—å®å…¨å±æ€§å€ç‡ Ã— å¢ƒç•ŒåŠ æˆ Ã— è‚‰èº«ä¹˜ç®—ï¼Œç„¶åæŒ‡æ•°+è‚‰èº«èœ•å˜%</div>
                <div>æœ€ç»ˆç”Ÿå‘½ = (åŸºç¡€ç”Ÿå‘½ + è£…å¤‡ç”Ÿå‘½) Ã— æ³•åˆ™ç”Ÿå‘½å€ç‡ Ã— ç§˜å®å…¨å±æ€§å€ç‡ Ã— é—å®å…¨å±æ€§å€ç‡ Ã— å¢ƒç•ŒåŠ æˆ Ã— è‚‰èº«ä¹˜ç®—ï¼Œç„¶åæŒ‡æ•°+è‚‰èº«èœ•å˜%</div>
                <div style="color: #8b5cf6; margin-top: 5px;">ğŸ’¡ ç‚¼ä½“åŠ æˆï¼šå‰9æ¬¡é”»ä½“Ã—1.1ï¼Œæœ€å1æ¬¡æ‰“é€šç»è„‰è‚‰èº«èœ•å˜+0.1%</div>
            </div>
        </div>
        
        <button class="modal-btn btn-close" onclick="game.closeModal('stats-detail-modal')" style="margin-top: 15px;">å…³é—­</button>
    </div>
</div>

<!-- ZhouTian System Modal (å‘¨å¤©æ˜Ÿçªç³»ç»Ÿ - æ˜Ÿåº§å›¾ç‰ˆ) -->
<div id="zhou-tian-modal" class="game-modal" style="z-index: 1600;">
    <div class="modal-content" style="width: 95%; max-width: 1000px; height: 90%; display: flex; flex-direction: column; padding: 0; overflow: hidden;">
        <!-- å¤´éƒ¨ -->
        <div style="display:flex; justify-content:space-between; align-items:center; border-bottom:1px solid #333; padding:15px 20px; background:linear-gradient(135deg, #0f172a 0%, #1e293b 100%);">
            <div>
                <h2 style="margin:0; color:#fbbf24; font-size:1.3rem; letter-spacing:0.2em;">â­ å‘¨å¤©æ˜Ÿçª</h2>
                <div style="font-size:0.7rem; color:#64748b; margin-top:3px;">æ´—ç»ƒæ˜Ÿçªï¼Œçªç ´å‘¨å¤©</div>
            </div>
            <div style="display:flex; align-items:center; gap:15px;">
                <div style="display:flex; align-items:center; gap:8px; padding:6px 12px; background:rgba(251,191,36,0.1); border-radius:20px; border:1px solid rgba(251,191,36,0.3);">
                    <span style="font-size:0.75rem; color:#fbbf24;">ğŸ’ æ˜Ÿé«“:</span>
                    <span id="zhou-tian-modal-marrow" style="font-size:0.9rem; font-weight:bold; color:#fbbf24;">0</span>
                </div>
                <button class="modal-btn btn-close" style="width:auto; margin:0; padding:5px 12px;" onclick="game.closeZhouTianModal()">âœ•</button>
            </div>
        </div>

        <!-- ä¸»ä½“å†…å®¹ -->
        <div style="display:flex; flex:1; overflow:hidden;">
            <!-- å·¦ä¾§ï¼šæ˜Ÿåº§å›¾ -->
            <div style="flex:1; background:radial-gradient(circle at center, #0f172a 0%, #0a0a0a 100%); padding:15px; overflow-y:auto; position:relative;">
                <!-- æ˜Ÿåº§å›¾å®¹å™¨ -->
                <div id="zhou-tian-constellation" style="position:relative; width:100%; height:500px; min-height:500px;">
                    <!-- è¿æ¥çº¿ SVG -->
                    <svg id="constellation-lines" style="position:absolute; inset:0; width:100%; height:100%; pointer-events:none; z-index:1;">
                        <!-- ç”±JSç”Ÿæˆè¿æ¥çº¿ -->
                    </svg>
                    <!-- æ˜Ÿçªç‚¹ä½ -->
                    <div id="constellation-points" style="position:absolute; inset:0; z-index:2;">
                        <!-- ç”±JSç”Ÿæˆ25ä¸ªæ˜Ÿçª -->
                    </div>
                    <!-- æ˜ŸåŸŸæ ‡ç­¾ -->
                    <div id="constellation-labels" style="position:absolute; inset:0; z-index:3; pointer-events:none;">
                        <!-- ç”±JSç”Ÿæˆ5ä¸ªæ˜ŸåŸŸæ ‡ç­¾ -->
                    </div>
                </div>

                <!-- é€‰ä¸­çš„æ˜Ÿçªè¯¦æƒ… -->
                <div id="acupoint-detail" style="background:#1a1a1a; border:1px solid #333; border-radius:8px; padding:12px; margin-top:10px; display:none;">
                    <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:8px;">
                        <span id="detail-sector-name" style="font-weight:bold; color:#fbbf24;">--</span>
                        <span id="detail-quality" style="font-size:0.8rem; padding:2px 8px; border-radius:4px;">--</span>
                    </div>
                    <div style="font-size:0.75rem; color:#888; margin-bottom:5px;">å½“å‰åŠ æˆ</div>
                    <div id="detail-bonus" style="font-size:1.1rem; font-weight:bold; color:#22c55e; margin-bottom:8px;">--</div>
                    <div style="font-size:0.7rem; color:#64748b;">
                        ä¸‹ä¸€çº§: <span id="detail-next-bonus" style="color:#fbbf24;">--</span>
                    </div>
                </div>
            </div>

            <!-- å³ä¾§ï¼šæ§åˆ¶å° -->
            <div style="width:280px; background:#0f0f0f; border-left:1px solid #222; display:flex; flex-direction:column; padding:15px;">
                <!-- å‘¨å¤©ä¿¡æ¯ -->
                <div style="background:#1a1a1a; padding:12px; border-radius:8px; margin-bottom:12px;">
                    <div style="display:flex; justify-content:space-between; margin-bottom:8px;">
                        <span style="font-size:0.75rem; color:#888;">å½“å‰å‘¨å¤©</span>
                        <span id="zhou-tian-modal-level" style="font-size:0.9rem; font-weight:bold; color:#fbbf24;">ç¬¬1å‘¨å¤©</span>
                    </div>
                    <div style="display:flex; justify-content:space-between; margin-bottom:8px;">
                        <span style="font-size:0.75rem; color:#888;">æŒ‡æ•°åŠ æˆ</span>
                        <span id="zhou-tian-modal-exp" style="font-size:0.9rem; font-weight:bold; color:#a855f7;">+0.0%</span>
                    </div>
                    <div style="display:flex; justify-content:space-between;">
                        <span style="font-size:0.75rem; color:#888;">å·²é”å®š</span>
                        <span id="zhou-tian-modal-locks" style="font-size:0.9rem; font-weight:bold; color:#22c55e;">0/4</span>
                    </div>
                </div>

                <!-- å„æ˜ŸåŸŸåŠ æˆ -->
                <div style="background:#1a1a1a; padding:12px; border-radius:8px; margin-bottom:12px; font-size:0.75rem;">
                    <div style="color:#888; margin-bottom:8px; font-size:0.7rem; text-transform:uppercase; letter-spacing:0.1em;">å„æ˜ŸåŸŸåŠ æˆ</div>

                    <!-- é’é¾™ -->
                    <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:6px; padding:6px; background:#0f1f0f; border-radius:4px;">
                        <span style="color:#22c55e;">ğŸ‰ é’é¾™ <span id="modal-locks-0" style="font-size:0.65rem; opacity:0.8;">ğŸ”’0/4</span></span>
                        <span id="modal-bonus-attack" style="color:#22c55e; font-weight:bold;">Ã—1</span>
                    </div>
                    <!-- æœ±é›€ -->
                    <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:6px; padding:6px; background:#1f0f0f; border-radius:4px;">
                        <span style="color:#ef4444;">ğŸ¦… æœ±é›€ <span id="modal-locks-1" style="font-size:0.65rem; opacity:0.8;">ğŸ”’0/4</span></span>
                        <span id="modal-bonus-health" style="color:#ef4444; font-weight:bold;">Ã—1</span>
                    </div>
                    <!-- ç™½è™ -->
                    <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:6px; padding:6px; background:#1f1a0f; border-radius:4px;">
                        <span style="color:#f59e0b;">ğŸ… ç™½è™ <span id="modal-locks-2" style="font-size:0.65rem; opacity:0.8;">ğŸ”’0/4</span></span>
                        <span id="modal-bonus-equip" style="color:#f59e0b; font-weight:bold;">+0</span>
                    </div>
                    <!-- ç„æ­¦ -->
                    <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:6px; padding:6px; background:#0f1a2f; border-radius:4px;">
                        <span style="color:#3b82f6;">ğŸ¢ ç„æ­¦ <span id="modal-locks-3" style="font-size:0.65rem; opacity:0.8;">ğŸ”’0/4</span></span>
                        <span id="modal-bonus-essence" style="color:#3b82f6; font-weight:bold;">Ã—1</span>
                    </div>
                    <!-- éº’éºŸ -->
                    <div style="display:flex; justify-content:space-between; align-items:center; padding:6px; background:#1a0f2f; border-radius:4px;">
                        <span style="color:#a855f7;">ğŸ¦Œ éº’éºŸ <span id="modal-locks-4" style="font-size:0.65rem; opacity:0.8;">ğŸ”’0/4</span></span>
                        <span id="modal-bonus-all" style="color:#a855f7; font-weight:bold;">Ã—1</span>
                    </div>
                </div>

                <!-- çªç ´æŒ‰é’®ï¼ˆå¯çªç ´æ—¶æ˜¾ç¤ºï¼‰ -->
                <div id="breakthrough-panel" style="background:linear-gradient(135deg, #1a0f2f, #2d1f3f); padding:12px; border-radius:8px; margin-bottom:12px; display:none; border:1px solid #a855f7;">
                    <div style="text-align:center; margin-bottom:8px;">
                        <span style="font-size:0.9rem; font-weight:bold; color:#fbbf24;">âœ¨ å‘¨å¤©åœ†æ»¡</span>
                    </div>
                    <div style="font-size:0.7rem; color:#888; text-align:center; margin-bottom:8px;">
                        æ‰€æœ‰æ˜Ÿçªå·²è¾¾å¤©å“<br>
                        å¯çªç ´è¿›å…¥ä¸‹ä¸€å‘¨å¤©
                    </div>
                    <button onclick="game.zhouTianTriggerBreakthrough()" style="width:100%; padding:10px; background:linear-gradient(135deg, #a855f7, #7c3aed); border:none; border-radius:6px; color:white; font-size:0.8rem; font-weight:bold; cursor:pointer;">
                        ğŸš€ çªç ´å‘¨å¤©
                    </button>
                </div>

                <!-- å½“å‰é€‰ä¸­æ˜ŸåŸŸæ´—ç»ƒ -->
                <div id="sector-wash-panel" style="background:#1a1a1a; padding:12px; border-radius:8px; margin-bottom:12px; display:none;">
                    <div id="wash-sector-name" style="font-weight:bold; color:#fbbf24; margin-bottom:8px;">--</div>
                    <div id="wash-cost-display" style="font-size:0.7rem; color:#888; margin-bottom:8px;">æ¶ˆè€—: 50 æ˜Ÿé«“</div>
                    <div id="wash-buttons" style="display:flex; gap:5px;">
                        <button id="btn-start-wash" style="flex:1; padding:8px; background:#1e3a8a; border:none; border-radius:6px; color:#60a5fa; font-size:0.75rem; cursor:pointer;">
                            æ´—ç»ƒ
                        </button>
                    </div>
                </div>

                <!-- å¿«æ·æ“ä½œ -->
                <div style="background:#1a1a1a; padding:12px; border-radius:8px; margin-bottom:12px;">
                    <div style="color:#888; margin-bottom:8px; font-size:0.7rem; text-transform:uppercase; letter-spacing:0.1em;">å¿«æ·æ“ä½œ</div>
                    <button onclick="game.zhouTianAutoLock()" style="width:100%; padding:8px; background:#1e3a8a; border:none; border-radius:6px; color:#60a5fa; font-size:0.75rem; cursor:pointer; margin-bottom:6px;">
                        ğŸ”’ è‡ªåŠ¨é”å®šå¤©å“
                    </button>
                    <button onclick="game.zhouTianAutoWash()" style="width:100%; padding:8px; background:#14532d; border:none; border-radius:6px; color:#4ade80; font-size:0.75rem; cursor:pointer;">
                        âš¡ è‡ªåŠ¨æ´—ç»ƒè‡³å…¨æ»¡
                    </button>
                </div>

                <!-- æ—¥å¿— -->
                <div style="flex:1; background:#0a0a0a; border-radius:8px; padding:10px; overflow-y:auto; font-size:0.7rem;">
                    <div style="color:#475569; margin-bottom:5px; font-size:0.65rem; text-transform:uppercase; letter-spacing:0.1em;">ä¿®è¡Œå¿—</div>
                    <div id="zhou-tian-logs" style="display:flex; flex-direction:column; gap:4px;">
                        <!-- ç”±JSå¡«å…… -->
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- StarBeast Dungeon Modal (æ˜Ÿç©ºå·¨å…½å‰¯æœ¬) -->
<div id="starbeast-modal" class="game-modal" style="z-index: 1600;">
    <div class="modal-content" style="width: 95%; max-width: 600px; height: 85%; display: flex; flex-direction: column; padding: 0; overflow: hidden;">
        <!-- å¤´éƒ¨ -->
        <div style="display:flex; justify-content:space-between; align-items:center; border-bottom:1px solid #333; padding:15px 20px; background:linear-gradient(135deg, #0f0f1a 0%, #1a1a2e 100%);">
            <div>
                <h2 style="margin:0; color:#a855f7; font-size:1.3rem; letter-spacing:0.2em;">ğŸŒŸ æ˜Ÿç©ºå·¨å…½</h2>
                <div style="font-size:0.7rem; color:#64748b; margin-top:3px;">æŒ‘æˆ˜å·¨å…½ï¼Œè·å–æ˜Ÿé«“</div>
            </div>
            <div style="display:flex; align-items:center; gap:15px;">
                <div style="display:flex; align-items:center; gap:8px; padding:6px 12px; background:rgba(168,85,247,0.1); border-radius:20px; border:1px solid rgba(168,85,247,0.3);">
                    <span style="font-size:0.75rem; color:#a855f7;">ğŸ’ æ˜Ÿé«“:</span>
                    <span id="starbeast-total-marrow" style="font-size:0.9rem; font-weight:bold; color:#fbbf24;">0</span>
                </div>
                <button class="modal-btn btn-close" style="width:auto; margin:0; padding:5px 12px;" onclick="game.closeStarBeastModal()">âœ•</button>
            </div>
        </div>

        <!-- ä¸»ä½“å†…å®¹ -->
        <div style="flex:1; background:#0a0a0f; padding:20px; overflow-y:auto;">
            <!-- ä»Šæ—¥æŒ‘æˆ˜æ¬¡æ•° -->
            <div style="background:#1a1a2e; border:1px solid #2a2a3e; border-radius:8px; padding:12px; margin-bottom:20px; text-align:center;">
                <span style="font-size:0.75rem; color:#888;">ä»Šæ—¥å‰©ä½™æŒ‘æˆ˜:</span>
                <span id="starbeast-attempts" style="font-size:1rem; font-weight:bold; color:#a855f7; margin-left:8px;">10/10</span>
            </div>

            <!-- éš¾åº¦åˆ—è¡¨ -->
            <div style="margin-bottom:15px;">
                <div style="font-size:0.8rem; color:#888; margin-bottom:12px; text-transform:uppercase; letter-spacing:0.1em;">é€‰æ‹©éš¾åº¦</div>
                <div id="starbeast-difficulty-list" style="display:flex; flex-direction:column; gap:8px;">
                    <!-- ç”±JSç”Ÿæˆ -->
                </div>
            </div>

            <!-- è¯´æ˜ -->
            <div style="background:#0f0f1a; border-radius:8px; padding:12px; font-size:0.7rem; color:#64748b;">
                <div style="margin-bottom:6px;">ğŸ“œ æˆ˜æ–—è§„åˆ™:</div>
                <div style="margin-left:12px; line-height:1.6;">
                    â€¢ æ•°å€¼å‹ç¼©æˆ˜æ–—ï¼šç©å®¶æ”»å‡»/ç”Ÿå‘½æŒ‰å¯¹æ•°å‹ç¼©<br>
                    â€¢ æ¯æ—¥å¯æŒ‘æˆ˜10æ¬¡ï¼Œæ¬¡æ•°æ¯æ—¥0ç‚¹é‡ç½®<br>
                    â€¢ éš¾åº¦è¶Šé«˜ï¼Œæ˜Ÿé«“å¥–åŠ±è¶Šä¸°åš
                </div>
            </div>
        </div>
    </div>
</div>

<!-- StarBeast Reward Modal (æ˜Ÿç©ºå·¨å…½å¥–åŠ±) -->
<div id="starbeast-reward-modal" class="game-modal" style="z-index: 1700;">
    <div class="modal-content" style="width: 300px; padding: 30px; text-align: center; background: linear-gradient(135deg, #1a1a2e 0%, #0f0f1a 100%); border: 1px solid #a855f7;">
        <div style="font-size: 3rem; margin-bottom: 15px;">ğŸ‰</div>
        <h3 style="color: #fbbf24; margin: 0 0 15px 0;">æŒ‘æˆ˜æˆåŠŸ!</h3>
        <div style="color: #888; font-size: 0.85rem; margin-bottom: 20px;">
            å‡»è´¥æ˜Ÿç©ºå·¨å…½ï¼Œè·å¾—æ˜Ÿé«“
        </div>
        <div style="font-size: 1.5rem; font-weight: bold; color: #a855f7; margin-bottom: 20px;">
            +<span id="starbeast-reward-amount">0</span> ğŸ’
        </div>
        <button onclick="game.closeStarBeastRewardModal()" style="padding: 10px 30px; background: linear-gradient(135deg, #a855f7, #7c3aed); border: none; border-radius: 6px; color: white; font-size: 0.9rem; cursor: pointer;">
            ç¡®å®š
        </button>
    </div>
</div>

<!-- Ancient Treasure Modal (å¤§åƒå®å½•å¤å®ç³»ç»Ÿ) -->
<div id="treasure-ancient-modal" class="game-modal" style="z-index: 1600;">
    <div class="modal-content" style="width: 95%; max-width: 1100px; height: 90%; display: flex; flex-direction: column; padding: 0; overflow: hidden;">
        <!-- å¤´éƒ¨ -->
        <div style="display:flex; justify-content:space-between; align-items:center; border-bottom:1px solid #333; padding:15px 20px; background:linear-gradient(135deg, #0f172a 0%, #1e293b 100%);">
            <div>
                <h2 style="margin:0; color:#3b82f6; font-size:1.3rem; letter-spacing:0.2em;">ğŸ“œ å¤§åƒå®å½•</h2>
                <div style="font-size:0.7rem; color:#64748b; margin-top:3px;">æ”¶é›†å¤å®ï¼Œæå‡æˆ˜åŠ›</div>
            </div>
            <div style="display:flex; align-items:center; gap:15px;">
                <!-- å¯¼èˆªä»¤ -->
                <div style="display:flex; align-items:center; gap:8px; padding:6px 12px; background:rgba(59,130,246,0.1); border-radius:20px; border:1px solid rgba(59,130,246,0.3);">
                    <span style="font-size:0.75rem; color:#60a5fa;">ğŸŸ¡ å¯»å®ä»¤:</span>
                    <span id="treasure-draw-tokens" style="font-size:0.9rem; font-weight:bold; color:#fbbf24;">0</span>
                </div>
                <button class="modal-btn btn-close" style="width:auto; margin:0; padding:5px 12px;" onclick="game.closeAncientTreasureModal()">âœ•</button>
            </div>
        </div>
        
        <!-- ä¸»ä½“å†…å®¹ -->
        <div style="display:flex; flex:1; overflow:hidden;">
            <!-- å·¦ä¾§ï¼šç•ŒåŸŸæ ‡ç­¾ -->
            <div style="width:70px; background:#0a0a0a; border-right:1px solid #222; display:flex; flex-direction:column; padding:10px 0;">
                <div style="text-align:center; padding:10px 0; border-bottom:1px solid #222; margin-bottom:10px;">
                    <div style="font-size:0.6rem; color:#475569; letter-spacing:0.1em;">ç•ŒåŸŸ</div>
                </div>
                <div id="treasure-tabs" style="flex:1; display:flex; flex-direction:column; gap:5px; padding:0 8px;">
                    <!-- æ ‡ç­¾ç”±JSç”Ÿæˆ -->
                </div>
                <!-- ä¸€é”®å‡çº§æŒ‰é’® -->
                <div style="padding:10px 8px; border-top:1px solid #222;">
                    <button onclick="game.ancientTreasure.upgradeAll()" style="width:100%; padding:8px 0; background:linear-gradient(135deg, #ea580c, #f97316); border:none; border-radius:6px; color:white; font-size:0.65rem; cursor:pointer;" title="ä¸€é”®å‡çº§æ‰€æœ‰å¯å‡çº§çš„å¤å®">
                        <div style="font-weight:bold;">âš¡ ALL</div>
                    </button>
                </div>
            </div>
            
            <!-- ä¸­é—´ï¼šå¤å®åˆ—è¡¨ -->
            <div style="flex:1; background:#0f0f0f; display:flex; flex-direction:column; overflow:hidden;">
                <!-- é¡¶éƒ¨æˆ˜åŠ›æ˜¾ç¤º -->
                <div style="padding:12px 15px; background:linear-gradient(180deg, #0f172a 0%, #0a0a0a 100%); border-bottom:1px solid #1e293b;">
                    <div style="display:flex; justify-content:space-between; align-items:center;">
                        <div>
                            <div style="font-size:0.65rem; color:#475569; text-transform:uppercase; letter-spacing:0.15em; margin-bottom:2px;">Total Multiplier</div>
                            <div id="treasure-total-power" style="font-size:1.4rem; font-weight:900; background:linear-gradient(90deg, #fbbf24, #f59e0b, #ef4444); -webkit-background-clip:text; -webkit-text-fill-color:transparent; font-family:monospace;">
                                Ã—1.00
                            </div>
                        </div>
                        <div style="text-align:right;">
                            <div style="font-size:0.65rem; color:#475569; text-transform:uppercase; letter-spacing:0.1em;">å·²æ”¶é›†</div>
                            <div style="font-size:0.9rem; color:#60a5fa; font-weight:bold;">
                                <span id="treasure-collected-count">0</span> / <span id="treasure-total-count">0</span>
                            </div>
                            <div style="font-size:0.6rem; color:#334155; margin-top:2px;">
                                å½“å‰ç•ŒåŸŸ: Ã—<span id="treasure-tab-power">1.00</span>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- å¤å®åˆ—è¡¨åŒºåŸŸ -->
                <div id="treasure-list-container" style="flex:1; overflow-y:auto; padding:15px;">
                    <!-- æŒ‰å“è´¨åˆ†ç±»æ¸²æŸ“ -->
                    <div id="treasure-list-content">
                        <!-- ç”±JSç”Ÿæˆ -->
                    </div>
                </div>
            </div>
            
            <!-- å³ä¾§ï¼šè¯¦æƒ…/æŠ½å¥– -->
            <div style="width:280px; background:#0a0a0a; border-left:1px solid #222; display:flex; flex-direction:column;">
                <!-- æŠ½å¥–é¢æ¿ï¼ˆé»˜è®¤æ˜¾ç¤ºï¼‰ -->
                <div id="treasure-draw-panel" style="flex:1; display:flex; flex-direction:column; padding:20px;">
                    <div style="flex:1; display:flex; flex-direction:column; align-items:center; justify-content:center; text-align:center; background:linear-gradient(180deg, rgba(59,130,246,0.1) 0%, transparent 100%); border-radius:12px; border:1px solid rgba(59,130,246,0.2); padding:20px;">
                        <div style="font-size:3rem; margin-bottom:15px; animation:float 3s ease-in-out infinite;">ğŸ“¦</div>
                        <h3 style="margin:0 0 8px 0; color:#fff; font-size:1.1rem; letter-spacing:0.3em; font-style:italic;">å¤©å‘½å¯»å®</h3>
                        <p style="font-size:0.7rem; color:#64748b; margin:0 0 15px 0;">
                            æ¦‚ç‡ï¼šUR 2% | SSR 8% | SR 30%
                        </p>
                        <div style="padding:4px 12px; background:rgba(59,130,246,0.1); border:1px solid rgba(59,130,246,0.2); border-radius:20px; font-size:0.65rem; color:#60a5fa;">
                            URä¿åº•: <span id="treasure-pity-count">0</span>/40
                        </div>
                    </div>
                    
                    <div style="display:grid; grid-template-columns:1fr 1fr; gap:10px; margin-top:15px;">
                        <button onclick="game.ancientTreasure.draw(1)" style="padding:12px; background:#1e293b; border:1px solid #334155; border-radius:8px; color:#94a3b8; font-size:0.75rem; font-weight:bold; cursor:pointer; transition:all 0.2s;" onmouseover="this.style.background='#334155'" onmouseout="this.style.background='#1e293b'">
                            ä¸€æ¬¡
                        </button>
                        <button onclick="game.ancientTreasure.draw(10)" style="padding:12px; background:linear-gradient(135deg, #2563eb, #3b82f6); border:1px solid #60a5fa; border-radius:8px; color:#fff; font-size:0.75rem; font-weight:bold; cursor:pointer; box-shadow:0 4px 15px rgba(59,130,246,0.3); transition:all 0.2s;" onmouseover="this.style.transform='translateY(-2px)'" onmouseout="this.style.transform='translateY(0)'">
                            åæ¬¡
                        </button>
                    </div>
                </div>
                
                <!-- è¯¦æƒ…é¢æ¿ï¼ˆé€‰ä¸­å¤å®æ—¶æ˜¾ç¤ºï¼‰ -->
                <div id="treasure-detail-panel" style="flex:1; display:none; flex-direction:column;">
                    <div style="display:flex; justify-content:space-between; align-items:center; padding:12px 15px; border-bottom:1px solid #222;">
                        <button onclick="game.ancientTreasure.selectedId = null; game.updateTreasureUI();" style="background:none; border:none; color:#64748b; cursor:pointer; font-size:1rem;">âœ•</button>
                        <span style="font-size:0.65rem; color:#475569; text-transform:uppercase; letter-spacing:0.2em;">Detail View</span>
                        <div style="width:20px;"></div>
                    </div>
                    
                    <div style="flex:1; overflow-y:auto; padding:15px;">
                        <div style="text-align:center; margin-bottom:15px;">
                            <div id="treasure-detail-icon-container" style="width:70px; height:70px; margin:0 auto 10px; border-radius:12px; display:flex; align-items:center; justify-content:center; font-size:2rem;">
                                <!-- ç”±JSå¡«å…… -->
                            </div>
                            <h3 id="treasure-detail-name" style="margin:0 0 5px 0; color:#fff; font-size:1rem;">å¤å®åç§°</h3>
                            <div style="font-size:0.7rem; color:#64748b;">æˆé•¿: <span id="treasure-detail-growth">0</span>%/Lv</div>
                        </div>
                        
                        <div style="background:#111; border:1px solid #222; border-radius:8px; padding:12px; margin-bottom:10px;">
                            <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:5px;">
                                <span style="font-size:0.65rem; color:#3b82f6; text-transform:uppercase; letter-spacing:0.1em;">å•ä½“å€ç‡</span>
                                <span id="treasure-detail-attr" style="font-size:0.65rem; color:#475569;">å±æ€§</span>
                            </div>
                            <div id="treasure-detail-power" style="font-size:1.3rem; font-weight:900; background:linear-gradient(90deg, #60a5fa, #22d3ee); -webkit-background-clip:text; -webkit-text-fill-color:transparent; font-family:monospace;">
                                Ã—1.00
                            </div>
                            <div style="display:flex; justify-content:space-between; font-size:0.65rem; margin-top:5px;">
                                <span style="color:#475569;">ä¸‹çº§é¢„è§ˆ:</span>
                                <span id="treasure-detail-next-power" style="color:#4ade80;">Ã—1.00</span>
                            </div>
                        </div>

                        <!-- è§‰é†’æ•ˆæœ -->
                        <div id="treasure-detail-awakening" style="background:linear-gradient(135deg, rgba(251,191,36,0.1), rgba(245,158,11,0.05)); border:1px solid rgba(251,191,36,0.3); border-radius:8px; padding:12px; margin-bottom:10px; display:none;">
                            <!-- ç”±JSå¡«å……è§‰é†’æ•ˆæœ -->
                        </div>

                        <div style="background:#111; border:1px solid #222; border-radius:8px; padding:12px;">
                            <div style="font-size:0.65rem; color:#3b82f6; text-transform:uppercase; letter-spacing:0.1em; margin-bottom:5px;">å¤å®ä¼ è®°</div>
                            <p id="treasure-detail-desc" style="font-size:0.75rem; color:#64748b; line-height:1.5; margin:0; font-style:italic;">
                                å¤å®æè¿°...
                            </p>
                        </div>
                    </div>
                    
                    <div style="padding:15px; border-top:1px solid #222; background:#0f0f0f;">
                        <div style="margin-bottom:10px;">
                            <div style="display:flex; justify-content:space-between; font-size:0.7rem; margin-bottom:5px;">
                                <span style="color:#64748b; text-transform:uppercase; letter-spacing:0.1em;">æ³¨å…¥è¿›åº¦</span>
                                <span style="color:#60a5fa; font-family:monospace;"><span id="treasure-detail-level">0</span>/10</span>
                            </div>
                            <div style="height:4px; background:#1e293b; border-radius:2px; overflow:hidden;">
                                <div id="treasure-detail-level-bar" style="height:100%; background:linear-gradient(90deg, #2563eb, #22d3ee); transition:width 0.3s; width:0%;"></div>
                            </div>
                        </div>
                        
                        <button id="treasure-upgrade-btn" onclick="game.upgradeSelectedTreasure()" style="width:100%; padding:10px; background:linear-gradient(135deg, #ea580c, #f97316); border:none; border-radius:8px; color:#fff; font-size:0.8rem; font-weight:bold; cursor:pointer; display:flex; align-items:center; justify-content:center; gap:8px;">
                            <span>æ³¨å…¥</span>
                            <span style="font-size:0.65rem; opacity:0.8;">ç¢ç‰‡ x<span id="treasure-detail-cost">1</span> (ä½™:<span id="treasure-detail-shards">0</span>)</span>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- å¯»å®ç»“æœå¼¹çª— -->
<div id="treasure-draw-result-modal" class="game-modal" style="z-index: 1700;" onclick="game.closeTreasureDrawResult()">
    <div style="text-align:center; pointer-events:none;" onclick="event.stopPropagation()">
        <h2 style="font-size:1.5rem; font-weight:900; font-style:italic; color:rgba(255,255,255,0.3); margin-bottom:30px; letter-spacing:0.5em; text-transform:uppercase;">å¯»å¾—å®ç‰©</h2>
        <div id="treasure-draw-result" style="display:flex; flex-wrap:wrap; justify-content:center; gap:15px; max-width:600px; margin:0 auto;">
            <!-- ç”±JSå¡«å…… -->
        </div>
        <div style="margin-top:30px; font-size:0.75rem; color:#475569; text-transform:uppercase; letter-spacing:0.3em; animation:pulse 2s infinite;">ç‚¹å‡»ä»»æ„ä½ç½®å…³é—­</div>
    </div>
</div>

<!-- Cheat Modal -->
<div id="cheat-modal" class="game-modal">
    <div class="modal-content">
        <h3 style="margin-top:0; color:#ff1744;">ğŸ”¥ é‡‘æ‰‹æŒ‡ä¿®æ”¹å™¨</h3>
        <select id="cheat-type" class="cheat-select">
            <option value="atk">å¢åŠ åŸºç¡€æ”»å‡»åŠ›</option>
            <option value="hp">å¢åŠ åŸºç¡€ç”Ÿå‘½å€¼</option>
            <option value="curHp">æ¢å¤å½“å‰ç”Ÿå‘½å€¼</option>
            <option value="law">å¢åŠ æ³•åˆ™çœŸæ„</option>
            <option value="chest">å¢åŠ ç§˜å®å®ç®±</option>
            <option value="frag">å¢åŠ ç§˜å®ç¢ç‰‡</option>
            <option value="ticket">å¢åŠ ç§˜å®æ¬¡æ•°</option>
            <option value="realm">å¢åŠ å¢ƒç•Œç­‰çº§</option>
            <option value="diff">å¢åŠ å†å²æœ€é«˜éš¾åº¦</option>
            <option value="gardenExp">çµæ¤ç»éªŒå€ç‡</option>
            <option value="gardenStone">çµæ¤çµçŸ³å€ç‡</option>
            <option value="gardenEssence">ç”Ÿçµç²¾åå€ç‡</option>
            <option value="abyssFrag">æ·±æ¸Šé—å®ç¢ç‰‡</option>
            <option value="treasureToken">å¤å®å¯»å®ä»¤</option>
            <option value="zhouTianMarrow">å‘¨å¤©æ˜Ÿé«“</option>
            <option value="currentDiff">å½“å‰ä¸»çº¿éš¾åº¦</option>
        </select>
        <input type="text" id="cheat-val" class="cheat-input" placeholder="è¾“å…¥æ•°å€¼ (æ”¯æŒ 1e100)">
        <div style="font-size:0.8rem; color:#888;">æ”¯æŒæå¤§æ•°å€¼ï¼Œè¾“å…¥è¿‡å¤§å°†å˜ä¸ºâˆ</div>
        <button class="modal-btn btn-use" onclick="game.applyCheat()">ç¡®è®¤ä¿®æ”¹</button>
        <button class="modal-btn btn-close" onclick="game.closeModal('cheat-modal')">å…³é—­</button>
    </div>
</div>

<!-- Core Scripts -->
<script src="js/core/BigNum.js"></script>
<script src="js/config.js"></script>
<script src="js/utils.js"></script>
<script src="js/classes/Item.js"></script>
<script src="js/classes/Treasure.js"></script>
<script src="js/classes/Dungeon.js"></script>
<script src="js/classes/LifeEssenceRefinement.js"></script>
<script src="js/classes/SpiritGarden.js"></script>
<script src="js/classes/AncientTreasure.js"></script>
<script src="js/classes/ZhouTianSystem.js"></script>
<script src="js/classes/StarBeastDungeon.js"></script>
<script src="js/classes/AbyssRelic.js"></script>
<script src="js/classes/AbyssDungeon.js"></script>
<script src="js/classes/Technique.js"></script>
<script src="js/game/Game.js"></script>

<!-- Initialize Game -->
<script>
const game = new Game();
</script>

</body>
</html>
