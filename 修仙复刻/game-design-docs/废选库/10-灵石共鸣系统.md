# 灵石共鸣系统 - 极简赌博养成

## 🎯 核心体验
> "2合1，成了升级，败了归零，指数爆炸"

---

## 💎 一句话规则

**6个灵石槽位，每个放一颗灵石（0-20级），全属性×(1.2^等级)，6颗相乘。**

---

## 🎮 核心机制

### 1. 灵石槽位（6个独立位置）

```javascript
const SPIRIT_STONES = {
    slots: 6,  // 6个独立槽位
    maxLevel: 20,  // 最高20级
    
    // 属性加成：每级×1.2
    multiplierPerLevel: 1.2,
    
    // 总倍率 = 1.2^(slot1+slot2+slot3+slot4+slot5+slot6)
    // 全20级 = 1.2^120 ≈ 9.2e9 倍
};
```

### 2. 合成规则（核心赌博点）

```javascript
const MERGE_RULE = {
    // 基础规则：2个同级 = 1个高级
    recipe: 'Lv.N + Lv.N → Lv.(N+1)',
    
    // 成功率（越高级越难）
    successRate: {
         0: 1.00,  // 0+0→1: 100%
         1: 0.90,  // 1+1→2: 90%
         2: 0.80,
         3: 0.70,
         4: 0.60,
         5: 0.50,  // 5+5→6: 50% 分水岭
         6: 0.40,
         7: 0.35,
         8: 0.30,
         9: 0.25,  // 9+9→10: 25%
        10: 0.20,
        11: 0.15,
        12: 0.12,
        13: 0.10,
        14: 0.08,
        15: 0.06,
        16: 0.05,
        17: 0.04,
        18: 0.03,
        19: 0.02   // 19+19→20: 2%
    },
    
    // 失败惩罚：两颗全部消失！
    // 高风险高回报，刺激感拉满
    failResult: 'BOTH_DESTROYED'
};
```

### 3. 材料获取（唯一材料：原石）

```javascript
const STONE_MATERIAL = {
    // 唯一材料：灵石原石
    // 所有合成、升级只用这一种材料
    
    // 来源：独立副本 - 灵石矿脉
    source: {
        name: '灵石矿脉',
        unlockLevel: 20,
        dailyAttempts: 5,
        
        // 每打1层给10个原石
        // 层数可以无限爬，但难度指数增长
        rewardPerFloor: 10,
        
        // 也可以直接买：10原石 = 1灵石
        exchange: '100灵石 = 1个0级灵石'
    },
    
    // 原石用途：
    // 1. 100原石 → 1个0级灵石（直接换）
    // 2. 合成时如果材料不够，可以用原石补足
    //    例如：只有1个Lv.5，可以花200原石代替第2个Lv.5
};
```

---

## 📊 数值设计

### 单颗灵石加成

| 等级 | 倍率 | 单槽贡献 |
|-----|------|---------|
| 0 | ×1.0 | 无 |
| 5 | ×2.5 | 较小 |
| 10 | ×6.2 | 中等 |
| 15 | ×15.4 | 较大 |
| 20 | ×38.3 | 巨大 |

### 6槽满级总加成

```
6颗20级 = 38.3^6 ≈ 3.1e9 倍

对比：
- 6颗15级 = 15.4^6 ≈ 1.2e7 倍（差2500倍）
- 6颗10级 = 6.2^6 ≈ 5.7e4 倍（差5万倍）
```

**满级是终极目标，但15级已经很强。**

---

## 🎰 赌博性设计

### 1. 成败一瞬间

```
你放入：Lv.15 + Lv.15
成功率：6%

[合成中...] ⚡

结果：
✅ 成功！获得 Lv.16！全属性×1.2！
❌ 失败！两颗灵石全部碎裂！归零！
```

### 2. 策略选择

```
保守派：停在Lv.10（6.2倍），不赌了，稳稳的幸福
激进派：必须冲到Lv.15+，高风险高回报
均衡派：3个高等级+3个中等级，分散风险
```

### 3. 保底机制（可选，降低挫败感）

```javascript
const SAFETY_NET = {
    // 失败积累"灵韵"，满100下次必成
    essencePerFail: 10,
    
    // 或者：保护符道具
    protectToken: {
        effect: '失败时保留1颗',
        cost: '商城购买或活动获取'
    }
};
```

---

## 🎨 UI设计（极简）

```
┌──────────────────────────────────────────────┐
│  💎 灵石共鸣                                    │
├──────────────────────────────────────────────┤
│                                                │
│  原石: 1,250 💎                               │
│  [进入矿脉] [兑换灵石 100💎=1颗]                │
│                                                │
│  【6个槽位】    总倍率: ×142,500 🔥             │
│  ┌────┬────┬────┬────┬────┬────┐            │
│  │ 💎 │ 💎 │ 💎 │ 💎 │ 💎 │ 💎 │            │
│  │ 15 │ 12 │ 12 │ 10 │  8 │  5 │            │
│  │选中│    │    │    │    │    │            │
│  └────┴────┴────┴────┴────┴────┘            │
│                                                │
│  【1号槽 - 15级灵石】                           │
│  属性加成: ×15.4                               │
│                                                │
│  【合成升级】 (15→16)                          │
│  需要: Lv.15 × 2                               │
│  成功率: 6% ⚠️                                 │
│  失败: 两颗灵石全部碎裂！                       │
│                                                │
│  [☑️ 使用保护符 (失败后保留1颗)]                │
│  [使用原石补足: 300💎]                          │
│                                                │
│        [开始合成] ⚡                            │
│                                                │
│  合成记录:                                     │
│  [15→16] 失败 💔 15:32                         │
│  [14→15] 成功 ✨ 15:28                         │
│  [14→15] 失败 💔 15:25                         │
└──────────────────────────────────────────────┘
```

---

## 💰 商业化

```
1. 保护符（核心付费）
   - 效果：合成失败时保留1颗灵石
   - 定价：6元/张
   - 高等级合成必备

2. 原石礼包
   - 小包（6元）：500原石
   - 大包（30元）：3000原石

3. 必成符（高价值）
   - 效果：下次合成成功率100%（限Lv.12以下）
   - 定价：68元/张

4. 矿脉月卡
   - 效果：每日矿脉次数+3，产出+100%
   - 定价：30元/月
```

---

## 🔧 技术实现（极简）

```javascript
class SpiritStoneSystem {
    constructor() {
        // 6个槽位的等级，-1表示空
        this.slots = [-1, -1, -1, -1, -1, -1];
        
        // 材料
        this.rawStones = 0;
        this.protectTokens = 0;
    }
    
    // 获取总倍率
    getTotalMultiplier() {
        let total = 1;
        for (let level of this.slots) {
            if (level >= 0) {
                total *= Math.pow(1.2, level);
            }
        }
        return total;
    }
    
    // 合成
    merge(slotIndex, useProtect) {
        const level = this.slots[slotIndex];
        
        // 检查是否有第二颗同级
        const pairIndex = this.findPair(level);
        if (pairIndex === -1) return '材料不足';
        
        // 判定成功率
        const rate = MERGE_RULE.successRate[level];
        const success = Math.random() < rate;
        
        if (success) {
            // 成功：两颗变一颗高级的
            this.slots[slotIndex] = level + 1;
            this.slots[pairIndex] = -1;  // 另一颗消失
            return 'success';
        } else {
            // 失败：根据保护符决定
            if (useProtect && this.protectTokens > 0) {
                this.protectTokens--;
                this.slots[pairIndex] = -1;  // 只消失一颗
                return 'protected';
            } else {
                this.slots[slotIndex] = -1;
                this.slots[pairIndex] = -1;  // 两颗都消失
                return 'destroyed';
            }
        }
    }
    
    findPair(level) {
        // 找另一颗同级的槽位
        return this.slots.findIndex((l, i) => l === level && i !== slotIndex);
    }
}
```

---

## ✅ 为什么这个设计好

| 优点 | 说明 |
|-----|------|
| **极简** | 2合1，成了升级败了碎，没有复杂规则 |
| **赌博性强** | 高等级6%成功率，失败归零，刺激感拉满 |
| **策略性** | 保守vs激进，分散vs集中，有选择空间 |
| **无底洞** | 20级×6颗，理论上无限追求 |
| **独立** | 只用一种材料，一个副本，不耦合任何系统 |
| **指数成长** | 1.2^120 ≈ 10亿倍，符合游戏风格 |
| **易理解** | 一眼就能看懂，没有学习成本 |

---

## 🔄 对比其他系统

| 系统 | 复杂度 | 赌博性 | 独立程度 |
|-----|-------|-------|---------|
| 灵根淬炼 | 中 | 中 | 中 |
| 本命法宝 | 高 | 中 | 中 |
| **灵石共鸣** | **极低** | **极高** | **完全独立** |
